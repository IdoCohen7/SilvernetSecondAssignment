2025-12-30 01:06:11.150 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 01:06:11.752 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 01:06:49.931 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 01:06:50.133 +02:00 [ERR] Create user failed. TenantId=1, Email=john.doe@ex.com
System.InvalidOperationException: Invalid Israeli IdNumber.
   at SilvernetJSONAPI.Services.UserResourceService.ValidateUser(UserResource resource, Boolean isUpdate) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Services\UserResourceService.cs:line 101
   at SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Services\UserResourceService.cs:line 47
2025-12-30 01:06:50.488 +02:00 [ERR] Invalid Israeli IdNumber.
System.InvalidOperationException: Invalid Israeli IdNumber.
   at void SilvernetJSONAPI.Services.UserResourceService.ValidateUser(UserResource resource, bool isUpdate) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Services/UserResourceService.cs:line 101
   at async Task<UserResource> SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Services/UserResourceService.cs:line 47
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 212
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 83
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 01:06:50.515 +02:00 [ERR] HTTP POST /api/v1/tenants/1/users responded 500 in 613.1048 ms
2025-12-30 01:07:07.624 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 01:07:07.682 +02:00 [ERR] Create user failed. TenantId=1, Email=john.doe@ex.com
System.InvalidOperationException: Invalid Israeli Phone.
   at SilvernetJSONAPI.Services.UserResourceService.ValidateUser(UserResource resource, Boolean isUpdate) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Services\UserResourceService.cs:line 107
   at SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Services\UserResourceService.cs:line 47
2025-12-30 01:07:07.862 +02:00 [ERR] Invalid Israeli Phone.
System.InvalidOperationException: Invalid Israeli Phone.
   at void SilvernetJSONAPI.Services.UserResourceService.ValidateUser(UserResource resource, bool isUpdate) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Services/UserResourceService.cs:line 107
   at async Task<UserResource> SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Services/UserResourceService.cs:line 47
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 212
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 83
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 01:07:07.868 +02:00 [ERR] HTTP POST /api/v1/tenants/1/users responded 500 in 258.1037 ms
2025-12-30 01:07:14.485 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 01:07:14.500 +02:00 [INF] Creating user. TenantId=1, Email=john.doe@ex.com, IdNumber=******785, Phone=07******41
2025-12-30 01:07:14.526 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 01:07:15.650 +02:00 [INF] User created successfully. UserId=14, TenantId=1
2025-12-30 01:07:15.700 +02:00 [INF] HTTP POST /api/v1/tenants/1/users responded 201 in 1228.0653 ms
2025-12-30 11:24:55.240 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 11:24:55.852 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 11:25:08.722 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 11:25:10.653 +02:00 [INF] HTTP GET /api/v1/tenants responded 200 in 2103.3936 ms
2025-12-30 11:25:43.843 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 11:25:43.913 +02:00 [INF] HTTP GET /api/v1/tenants/1/users responded 200 in 95.8404 ms
2025-12-30 11:25:49.949 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 11:25:49.968 +02:00 [INF] HTTP GET /api/v1/tenants/2/users responded 304 in 26.3554 ms
2025-12-30 11:25:53.402 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 11:25:53.412 +02:00 [INF] HTTP GET /api/v1/tenants/4/users responded 200 in 21.3641 ms
2025-12-30 11:25:55.409 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 11:25:55.424 +02:00 [INF] HTTP GET /api/v1/tenants/5/users responded 200 in 16.8354 ms
2025-12-30 11:25:58.146 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 11:25:58.160 +02:00 [INF] HTTP GET /api/v1/tenants/1/users responded 304 in 15.4962 ms
2025-12-30 11:26:16.923 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 11:26:17.046 +02:00 [INF] HTTP DELETE /api/v1/tenants/1 responded 204 in 142.6345 ms
2025-12-30 11:26:19.719 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 11:26:19.728 +02:00 [INF] HTTP GET /api/v1/tenants/1/users responded 200 in 9.3946 ms
2025-12-30 11:26:25.102 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 11:26:25.116 +02:00 [INF] HTTP DELETE /api/v1/tenants/2 responded 204 in 17.8935 ms
2025-12-30 11:38:03.953 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 11:38:04.477 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 11:38:23.954 +02:00 [INF] HTTP POST /api/auth/login responded 200 in 186.9013 ms
2025-12-30 11:53:00.302 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 11:53:00.787 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 11:53:22.744 +02:00 [INF] HTTP POST /api/auth/login responded 200 in 107.6041 ms
2025-12-30 11:53:50.124 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 11:53:51.855 +02:00 [INF] HTTP GET /api/v1/tenants responded 200 in 1858.2455 ms
2025-12-30 11:54:00.771 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 11:54:00.922 +02:00 [INF] HTTP DELETE /api/v1/tenants/4 responded 204 in 168.4440 ms
2025-12-30 11:54:03.621 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 11:54:03.635 +02:00 [INF] HTTP DELETE /api/v1/tenants/5 responded 204 in 24.3534 ms
2025-12-30 11:54:46.114 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 11:54:56.830 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 11:55:10.764 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 11:55:23.096 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 11:55:23.575 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 11:55:40.492 +02:00 [INF] HTTP POST /api/auth/login responded 200 in 108.7270 ms
2025-12-30 11:55:49.961 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 11:55:50.682 +02:00 [INF] HTTP GET /api/v1/tenants responded 200 in 836.1189 ms
2025-12-30 11:56:37.866 +02:00 [INF] Creating tenant. Name=Silvernet, Email=admin@silvernet.org, Phone=05******00
2025-12-30 11:56:37.881 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 11:56:38.131 +02:00 [INF] Tenant created successfully. TenantId=10002
2025-12-30 11:56:38.190 +02:00 [INF] HTTP POST /api/v1/tenants responded 201 in 402.8025 ms
2025-12-30 11:56:44.226 +02:00 [INF] Creating tenant. Name=Silvernet, Email=admin@silvernet.org, Phone=05******00
2025-12-30 11:56:44.234 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 11:56:44.752 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'SilvernetJSONAPI.Data.ReadDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Tenants' with unique index 'IX_Tenants_Email'. The duplicate key value is (admin@silvernet.org).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d44d9387-a620-4fc8-a096-37252f4d179e
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Tenants' with unique index 'IX_Tenants_Email'. The duplicate key value is (admin@silvernet.org).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d44d9387-a620-4fc8-a096-37252f4d179e
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-30 11:56:45.049 +02:00 [ERR] Create tenant failed. Email=admin@silvernet.org
JsonApiDotNetCore.Repositories.DataStoreUpdateException: Failed to persist changes in the underlying data store.
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Tenants' with unique index 'IX_Tenants_Email'. The duplicate key value is (admin@silvernet.org).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d44d9387-a620-4fc8-a096-37252f4d179e
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at JsonApiDotNetCore.Repositories.EntityFrameworkCoreRepository`2.SaveChangesAsync(CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Repositories/EntityFrameworkCoreRepository.cs:line 663
   --- End of inner exception stack trace ---
   at JsonApiDotNetCore.Repositories.EntityFrameworkCoreRepository`2.SaveChangesAsync(CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Repositories/EntityFrameworkCoreRepository.cs:line 669
   at JsonApiDotNetCore.Repositories.EntityFrameworkCoreRepository`2.CreateAsync(TResource resourceFromRequest, TResource resourceForDatabase, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Repositories/EntityFrameworkCoreRepository.cs:line 238
   at JsonApiDotNetCore.Repositories.ResourceRepositoryAccessor.CreateAsync[TResource](TResource resourceFromRequest, TResource resourceForDatabase, CancellationToken cancellationToken)
   at JsonApiDotNetCore.Services.JsonApiResourceService`2.CreateAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 221
   at JsonApiDotNetCore.Services.JsonApiResourceService`2.CreateAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 227
   at SilvernetJSONAPI.Services.TenantResourceService.CreateAsync(TenantResource resource, CancellationToken cancellationToken) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Services\TenantResourceService.cs:line 51
2025-12-30 11:56:45.473 +02:00 [ERR] Failed to persist changes in the underlying data store.
JsonApiDotNetCore.Repositories.DataStoreUpdateException: Failed to persist changes in the underlying data store.
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Tenants' with unique index 'IX_Tenants_Email'. The duplicate key value is (admin@silvernet.org).
   at void Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, bool breakConnection, Action<Action> wrapCloseInAction)
   at void Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, bool breakConnection, Action<Action> wrapCloseInAction)
   at void Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, bool callerHasConnectionLock, bool asyncClose)
   at bool Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, out bool dataReady)
   at bool Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(out bool moreRows)
   at bool Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(bool setTimeout, out bool more)
   at Task<bool> Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, object state)
   at Task<T> Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall<T>(SqlDataReaderBaseAsyncCallContext<T> context)
   at async Task<int> Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(int startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:d44d9387-a620-4fc8-a096-37252f4d179e
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at async Task<int> Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(int startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at async Task Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken) x 2
   at async Task Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable<ModificationCommandBatch> commandBatches, IRelationalConnection connection, CancellationToken cancellationToken) x 3
   at async Task<int> Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList<IUpdateEntry> entriesToSave, CancellationToken cancellationToken) x 2
   at async Task<TResult> Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync<TState, TResult>(TState state, Func<DbContext, TState, CancellationToken, Task<TResult>> operation, Func<DbContext, TState, CancellationToken, Task<ExecutionResult<TResult>>> verifySucceeded, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(bool acceptAllChangesOnSuccess, CancellationToken cancellationToken) x 2
   at async Task JsonApiDotNetCore.Repositories.EntityFrameworkCoreRepository<TResource, TId>.SaveChangesAsync(CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Repositories/EntityFrameworkCoreRepository.cs:line 663
   --- End of inner exception stack trace ---
   at async Task JsonApiDotNetCore.Repositories.EntityFrameworkCoreRepository<TResource, TId>.SaveChangesAsync(CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Repositories/EntityFrameworkCoreRepository.cs:line 669
   at async Task JsonApiDotNetCore.Repositories.EntityFrameworkCoreRepository<TResource, TId>.CreateAsync(TResource resourceFromRequest, TResource resourceForDatabase, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Repositories/EntityFrameworkCoreRepository.cs:line 238
   at async Task JsonApiDotNetCore.Repositories.ResourceRepositoryAccessor.CreateAsync<TResource>(TResource resourceFromRequest, TResource resourceForDatabase, CancellationToken cancellationToken)
   at async Task<TResource> JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.CreateAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 221
   at async Task<TResource> JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.CreateAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 227
   at async Task<TenantResource> SilvernetJSONAPI.Services.TenantResourceService.CreateAsync(TenantResource resource, CancellationToken cancellationToken) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Services/TenantResourceService.cs:line 51
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 212
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 83
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 11:56:45.489 +02:00 [ERR] HTTP POST /api/v1/tenants responded 500 in 1279.9937 ms
2025-12-30 11:56:53.432 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 11:56:53.453 +02:00 [INF] HTTP GET /api/v1/tenants responded 200 in 23.8633 ms
2025-12-30 11:57:14.775 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 11:57:14.801 +02:00 [INF] HTTP GET /api/v1/tenants/10002/users responded 200 in 40.3129 ms
2025-12-30 11:57:25.976 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 11:57:25.990 +02:00 [INF] HTTP GET /api/v1/tenants/10002/users responded 304 in 15.4961 ms
2025-12-30 11:57:33.243 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 11:57:33.259 +02:00 [INF] HTTP GET /api/v1/tenants/10002 responded 200 in 33.5336 ms
2025-12-30 11:59:51.319 +02:00 [INF] Creating tenant. Name=NVIDIA, Email=admin@NVIDIA.org, Phone=05******01
2025-12-30 11:59:51.326 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 11:59:51.349 +02:00 [INF] Tenant created successfully. TenantId=10004
2025-12-30 11:59:51.352 +02:00 [INF] HTTP POST /api/v1/tenants responded 201 in 43.9198 ms
2025-12-30 12:16:26.683 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 12:16:27.224 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:17:05.424 +02:00 [INF] HTTP POST /api/auth/login responded 200 in 167.3294 ms
2025-12-30 12:17:14.948 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:17:15.816 +02:00 [INF] HTTP GET /api/v1/tenants responded 200 in 992.0803 ms
2025-12-30 12:17:37.763 +02:00 [INF] Creating tenant. Name=Silvernet, Email=contact@silvernet.co.il, Phone=05******67
2025-12-30 12:17:37.779 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:17:38.020 +02:00 [INF] Tenant created successfully. TenantId=10005
2025-12-30 12:17:38.031 +02:00 [INF] HTTP POST /api/v1/tenants responded 201 in 369.7966 ms
2025-12-30 12:17:52.102 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:17:52.123 +02:00 [INF] HTTP GET /api/v1/tenants/10005 responded 200 in 53.9993 ms
2025-12-30 12:17:55.405 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:17:55.901 +02:00 [INF] JsonApiException: Errors = [
  {
    "id": "950923a3-9ec9-470a-b465-c253dad13400",
    "status": "404",
    "title": "The requested resource does not exist.",
    "detail": "Resource of type 'tenants' with ID '10008' does not exist."
  }
]
JsonApiDotNetCore.Errors.ResourceNotFoundException: Exception of type 'JsonApiDotNetCore.Errors.ResourceNotFoundException' was thrown.
   at void JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.AssertPrimaryResourceExists(TResource resource) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 657
   at async Task<TResource> JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.GetPrimaryResourceByIdAsync(TId id, TopFieldSelection fieldSelection, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 595
   at async Task<TResource> JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.GetAsync(TId id, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 97
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.GetAsync(TId id, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 124
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.GetAsync(TId id, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 58
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 12:17:55.908 +02:00 [INF] HTTP GET /api/v1/tenants/10008 responded 404 in 504.4196 ms
2025-12-30 12:18:27.097 +02:00 [INF] Updating tenant. TenantId=10005, Email=null, Phone=05******43
2025-12-30 12:18:27.112 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:18:27.145 +02:00 [INF] Tenant updated successfully. TenantId=10005
2025-12-30 12:18:27.153 +02:00 [INF] HTTP PATCH /api/v1/tenants/10005 responded 200 in 77.3344 ms
2025-12-30 12:18:42.000 +02:00 [INF] Updating tenant. TenantId=10005, Email=null, Phone=05******43
2025-12-30 12:18:42.008 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:18:42.021 +02:00 [INF] Tenant updated successfully. TenantId=10005
2025-12-30 12:18:42.024 +02:00 [INF] HTTP PATCH /api/v1/tenants/10005 responded 200 in 37.1368 ms
2025-12-30 12:18:44.409 +02:00 [INF] Updating tenant. TenantId=10005, Email=null, Phone=05******43
2025-12-30 12:18:44.412 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:18:44.421 +02:00 [INF] Tenant updated successfully. TenantId=10005
2025-12-30 12:18:44.424 +02:00 [INF] HTTP PATCH /api/v1/tenants/10005 responded 200 in 15.4902 ms
2025-12-30 12:18:45.412 +02:00 [INF] Updating tenant. TenantId=10005, Email=null, Phone=05******43
2025-12-30 12:18:45.416 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:18:45.428 +02:00 [INF] Tenant updated successfully. TenantId=10005
2025-12-30 12:18:45.431 +02:00 [INF] HTTP PATCH /api/v1/tenants/10005 responded 200 in 19.8898 ms
2025-12-30 12:18:46.091 +02:00 [INF] Updating tenant. TenantId=10005, Email=null, Phone=05******43
2025-12-30 12:18:46.095 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:18:46.102 +02:00 [INF] Tenant updated successfully. TenantId=10005
2025-12-30 12:18:46.105 +02:00 [INF] HTTP PATCH /api/v1/tenants/10005 responded 200 in 14.5664 ms
2025-12-30 12:19:01.615 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:19:01.693 +02:00 [INF] HTTP DELETE /api/v1/tenants/10005 responded 204 in 99.3272 ms
2025-12-30 12:19:04.506 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:19:05.459 +02:00 [INF] JsonApiException: Errors = [
  {
    "id": "178994a7-5511-48f7-838b-8fc250ccda80",
    "status": "404",
    "title": "The requested resource does not exist.",
    "detail": "Resource of type 'tenants' with ID '10006' does not exist."
  }
]
JsonApiDotNetCore.Errors.ResourceNotFoundException: Exception of type 'JsonApiDotNetCore.Errors.ResourceNotFoundException' was thrown.
   at void JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.AssertPrimaryResourceExists(TResource resource) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 657
   at async Task<TResource> JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.GetPrimaryResourceByIdAsync(TId id, TopFieldSelection fieldSelection, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 595
   at async Task JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.DeleteAsync(TId id, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 557
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.DeleteAsync(TId id, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 366
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.DeleteAsync(TId id, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 116
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 12:19:05.468 +02:00 [INF] HTTP DELETE /api/v1/tenants/10006 responded 404 in 962.2821 ms
2025-12-30 12:20:11.248 +02:00 [INF] JsonApiException: Errors = [
  {
    "id": "54fcbe8c-1e00-4b3f-b7f8-ff21ee2fb313",
    "status": "422",
    "title": "Input validation failed.",
    "detail": "The Tenant field is required.",
    "source": {
      "pointer": "/data/relationships/tenant/data"
    }
  }
]
JsonApiDotNetCore.Errors.InvalidModelStateException: Exception of type 'JsonApiDotNetCore.Errors.InvalidModelStateException' was thrown.
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 209
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 83
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 12:20:11.252 +02:00 [INF] HTTP POST /api/v1/tenants/10002/users responded 422 in 211.8356 ms
2025-12-30 12:22:10.838 +02:00 [ERR] Create user failed. TenantId=10002, Email=ido.cohen@silvernet.com
System.InvalidOperationException: Invalid Israeli IdNumber.
   at SilvernetJSONAPI.Validators.Validations.ValidateIsraeliId(String id) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Validators\Validations.cs:line 8
   at SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Services\UserResourceService.cs:line 46
2025-12-30 12:22:11.048 +02:00 [ERR] Invalid Israeli IdNumber.
System.InvalidOperationException: Invalid Israeli IdNumber.
   at void SilvernetJSONAPI.Validators.Validations.ValidateIsraeliId(string id) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Validators/Validations.cs:line 8
   at async Task<UserResource> SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Services/UserResourceService.cs:line 46
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 212
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 83
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 12:22:11.053 +02:00 [ERR] HTTP POST /api/v1/tenants/10002/users responded 500 in 278.7176 ms
2025-12-30 12:22:22.896 +02:00 [INF] Creating user. TenantId=10002, Email=ido.cohen@silvernet.com, IdNumber=******785, Phone=05******32
2025-12-30 12:22:22.908 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:22:23.236 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'SilvernetJSONAPI.Data.ReadDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Users_Tenants_TenantId". The conflict occurred in database "SilvernetJSONAPI_Db", table "dbo.Tenants", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4a9ddb11-fb93-4eaa-b86f-be644fc29e68
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Users_Tenants_TenantId". The conflict occurred in database "SilvernetJSONAPI_Db", table "dbo.Tenants", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4a9ddb11-fb93-4eaa-b86f-be644fc29e68
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-30 12:22:23.534 +02:00 [ERR] Create user failed. TenantId=10002, Email=ido.cohen@silvernet.com
JsonApiDotNetCore.Errors.ResourcesInRelationshipsNotFoundException: Exception of type 'JsonApiDotNetCore.Errors.ResourcesInRelationshipsNotFoundException' was thrown.
   at JsonApiDotNetCore.Services.JsonApiResourceService`2.ValidateResourcesToAssignInRelationshipsExistWithRefreshAsync(TResource primaryResource, Boolean onlyIfTypeHierarchy, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 304
   at JsonApiDotNetCore.Services.JsonApiResourceService`2.AssertResourcesToAssignInRelationshipsExistAsync(TResource primaryResource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 269
   at JsonApiDotNetCore.Services.JsonApiResourceService`2.CreateAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 226
   at SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Services\UserResourceService.cs:line 52
2025-12-30 12:22:23.740 +02:00 [INF] JsonApiException: Errors = [
  {
    "id": "874c88bc-e71d-44f4-9d9f-fd9a9dc992d0",
    "status": "404",
    "title": "A related resource does not exist.",
    "detail": "Related resource of type 'tenants' with ID '1' in relationship 'tenant' does not exist."
  }
]
JsonApiDotNetCore.Errors.ResourcesInRelationshipsNotFoundException: Exception of type 'JsonApiDotNetCore.Errors.ResourcesInRelationshipsNotFoundException' was thrown.
   at async Task JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.ValidateResourcesToAssignInRelationshipsExistWithRefreshAsync(TResource primaryResource, bool onlyIfTypeHierarchy, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 304
   at async Task JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.AssertResourcesToAssignInRelationshipsExistAsync(TResource primaryResource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 269
   at async Task<TResource> JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.CreateAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 226
   at async Task<UserResource> SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Services/UserResourceService.cs:line 52
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 212
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 83
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 12:22:23.744 +02:00 [INF] HTTP POST /api/v1/tenants/10002/users responded 404 in 853.9498 ms
2025-12-30 12:22:33.710 +02:00 [INF] Creating user. TenantId=10002, Email=ido.cohen@silvernet.com, IdNumber=******785, Phone=05******32
2025-12-30 12:22:33.715 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:22:33.753 +02:00 [INF] User created successfully. UserId=10007, TenantId=10002
2025-12-30 12:22:33.765 +02:00 [INF] HTTP POST /api/v1/tenants/10002/users responded 201 in 56.9608 ms
2025-12-30 12:23:06.262 +02:00 [INF] Creating user. TenantId=10002, Email=ido.cohen@silvernet.com, IdNumber=******785, Phone=05******32
2025-12-30 12:23:06.270 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:23:06.542 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'SilvernetJSONAPI.Data.ReadDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_Email'. The duplicate key value is (ido.cohen@silvernet.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4a9ddb11-fb93-4eaa-b86f-be644fc29e68
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_Email'. The duplicate key value is (ido.cohen@silvernet.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4a9ddb11-fb93-4eaa-b86f-be644fc29e68
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-30 12:23:06.741 +02:00 [ERR] Create user failed. TenantId=10002, Email=ido.cohen@silvernet.com
JsonApiDotNetCore.Repositories.DataStoreUpdateException: Failed to persist changes in the underlying data store.
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_Email'. The duplicate key value is (ido.cohen@silvernet.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4a9ddb11-fb93-4eaa-b86f-be644fc29e68
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at JsonApiDotNetCore.Repositories.EntityFrameworkCoreRepository`2.SaveChangesAsync(CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Repositories/EntityFrameworkCoreRepository.cs:line 663
   --- End of inner exception stack trace ---
   at JsonApiDotNetCore.Repositories.EntityFrameworkCoreRepository`2.SaveChangesAsync(CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Repositories/EntityFrameworkCoreRepository.cs:line 669
   at JsonApiDotNetCore.Repositories.EntityFrameworkCoreRepository`2.CreateAsync(TResource resourceFromRequest, TResource resourceForDatabase, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Repositories/EntityFrameworkCoreRepository.cs:line 238
   at JsonApiDotNetCore.Repositories.ResourceRepositoryAccessor.CreateAsync[TResource](TResource resourceFromRequest, TResource resourceForDatabase, CancellationToken cancellationToken)
   at JsonApiDotNetCore.Services.JsonApiResourceService`2.CreateAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 221
   at JsonApiDotNetCore.Services.JsonApiResourceService`2.CreateAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 227
   at SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Services\UserResourceService.cs:line 52
2025-12-30 12:23:07.070 +02:00 [ERR] Failed to persist changes in the underlying data store.
JsonApiDotNetCore.Repositories.DataStoreUpdateException: Failed to persist changes in the underlying data store.
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_Email'. The duplicate key value is (ido.cohen@silvernet.com).
   at void Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, bool breakConnection, Action<Action> wrapCloseInAction)
   at void Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, bool breakConnection, Action<Action> wrapCloseInAction)
   at void Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, bool callerHasConnectionLock, bool asyncClose)
   at bool Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, out bool dataReady)
   at bool Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(out bool moreRows)
   at bool Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(bool setTimeout, out bool more)
   at Task<bool> Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, object state)
   at Task<T> Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall<T>(SqlDataReaderBaseAsyncCallContext<T> context)
   at async Task<int> Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(int startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4a9ddb11-fb93-4eaa-b86f-be644fc29e68
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at async Task<int> Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(int startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at async Task Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken) x 2
   at async Task Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable<ModificationCommandBatch> commandBatches, IRelationalConnection connection, CancellationToken cancellationToken) x 3
   at async Task<int> Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList<IUpdateEntry> entriesToSave, CancellationToken cancellationToken) x 2
   at async Task<TResult> Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync<TState, TResult>(TState state, Func<DbContext, TState, CancellationToken, Task<TResult>> operation, Func<DbContext, TState, CancellationToken, Task<ExecutionResult<TResult>>> verifySucceeded, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(bool acceptAllChangesOnSuccess, CancellationToken cancellationToken) x 2
   at async Task JsonApiDotNetCore.Repositories.EntityFrameworkCoreRepository<TResource, TId>.SaveChangesAsync(CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Repositories/EntityFrameworkCoreRepository.cs:line 663
   --- End of inner exception stack trace ---
   at async Task JsonApiDotNetCore.Repositories.EntityFrameworkCoreRepository<TResource, TId>.SaveChangesAsync(CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Repositories/EntityFrameworkCoreRepository.cs:line 669
   at async Task JsonApiDotNetCore.Repositories.EntityFrameworkCoreRepository<TResource, TId>.CreateAsync(TResource resourceFromRequest, TResource resourceForDatabase, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Repositories/EntityFrameworkCoreRepository.cs:line 238
   at async Task JsonApiDotNetCore.Repositories.ResourceRepositoryAccessor.CreateAsync<TResource>(TResource resourceFromRequest, TResource resourceForDatabase, CancellationToken cancellationToken)
   at async Task<TResource> JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.CreateAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 221
   at async Task<TResource> JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.CreateAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 227
   at async Task<UserResource> SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Services/UserResourceService.cs:line 52
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 212
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 83
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 12:23:07.077 +02:00 [ERR] HTTP POST /api/v1/tenants/10002/users responded 500 in 822.0074 ms
2025-12-30 12:23:26.832 +02:00 [INF] Creating user. TenantId=10002, Email=Israeli@silvernet.com, IdNumber=******785, Phone=05******31
2025-12-30 12:23:26.835 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:23:27.134 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'SilvernetJSONAPI.Data.ReadDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_IdNumber'. The duplicate key value is (208519785).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4a9ddb11-fb93-4eaa-b86f-be644fc29e68
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_IdNumber'. The duplicate key value is (208519785).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4a9ddb11-fb93-4eaa-b86f-be644fc29e68
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-30 12:23:27.393 +02:00 [ERR] Create user failed. TenantId=10002, Email=Israeli@silvernet.com
JsonApiDotNetCore.Repositories.DataStoreUpdateException: Failed to persist changes in the underlying data store.
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_IdNumber'. The duplicate key value is (208519785).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4a9ddb11-fb93-4eaa-b86f-be644fc29e68
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at JsonApiDotNetCore.Repositories.EntityFrameworkCoreRepository`2.SaveChangesAsync(CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Repositories/EntityFrameworkCoreRepository.cs:line 663
   --- End of inner exception stack trace ---
   at JsonApiDotNetCore.Repositories.EntityFrameworkCoreRepository`2.SaveChangesAsync(CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Repositories/EntityFrameworkCoreRepository.cs:line 669
   at JsonApiDotNetCore.Repositories.EntityFrameworkCoreRepository`2.CreateAsync(TResource resourceFromRequest, TResource resourceForDatabase, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Repositories/EntityFrameworkCoreRepository.cs:line 238
   at JsonApiDotNetCore.Repositories.ResourceRepositoryAccessor.CreateAsync[TResource](TResource resourceFromRequest, TResource resourceForDatabase, CancellationToken cancellationToken)
   at JsonApiDotNetCore.Services.JsonApiResourceService`2.CreateAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 221
   at JsonApiDotNetCore.Services.JsonApiResourceService`2.CreateAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 227
   at SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Services\UserResourceService.cs:line 52
2025-12-30 12:23:27.699 +02:00 [ERR] Failed to persist changes in the underlying data store.
JsonApiDotNetCore.Repositories.DataStoreUpdateException: Failed to persist changes in the underlying data store.
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_IdNumber'. The duplicate key value is (208519785).
   at void Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, bool breakConnection, Action<Action> wrapCloseInAction)
   at void Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, bool breakConnection, Action<Action> wrapCloseInAction)
   at void Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, bool callerHasConnectionLock, bool asyncClose)
   at bool Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, out bool dataReady)
   at bool Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(out bool moreRows)
   at bool Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(bool setTimeout, out bool more)
   at Task<bool> Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, object state)
   at Task<T> Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall<T>(SqlDataReaderBaseAsyncCallContext<T> context)
   at async Task<int> Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(int startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:4a9ddb11-fb93-4eaa-b86f-be644fc29e68
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at async Task<int> Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(int startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at async Task Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken) x 2
   at async Task Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable<ModificationCommandBatch> commandBatches, IRelationalConnection connection, CancellationToken cancellationToken) x 3
   at async Task<int> Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList<IUpdateEntry> entriesToSave, CancellationToken cancellationToken) x 2
   at async Task<TResult> Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync<TState, TResult>(TState state, Func<DbContext, TState, CancellationToken, Task<TResult>> operation, Func<DbContext, TState, CancellationToken, Task<ExecutionResult<TResult>>> verifySucceeded, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(bool acceptAllChangesOnSuccess, CancellationToken cancellationToken) x 2
   at async Task JsonApiDotNetCore.Repositories.EntityFrameworkCoreRepository<TResource, TId>.SaveChangesAsync(CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Repositories/EntityFrameworkCoreRepository.cs:line 663
   --- End of inner exception stack trace ---
   at async Task JsonApiDotNetCore.Repositories.EntityFrameworkCoreRepository<TResource, TId>.SaveChangesAsync(CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Repositories/EntityFrameworkCoreRepository.cs:line 669
   at async Task JsonApiDotNetCore.Repositories.EntityFrameworkCoreRepository<TResource, TId>.CreateAsync(TResource resourceFromRequest, TResource resourceForDatabase, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Repositories/EntityFrameworkCoreRepository.cs:line 238
   at async Task JsonApiDotNetCore.Repositories.ResourceRepositoryAccessor.CreateAsync<TResource>(TResource resourceFromRequest, TResource resourceForDatabase, CancellationToken cancellationToken)
   at async Task<TResource> JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.CreateAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 221
   at async Task<TResource> JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.CreateAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 227
   at async Task<UserResource> SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Services/UserResourceService.cs:line 52
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 212
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 83
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 12:23:27.709 +02:00 [ERR] HTTP POST /api/v1/tenants/10002/users responded 500 in 878.1629 ms
2025-12-30 12:23:35.662 +02:00 [INF] Creating user. TenantId=10002, Email=Israeli@silvernet.com, IdNumber=******716, Phone=05******31
2025-12-30 12:23:35.665 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:23:35.679 +02:00 [INF] User created successfully. UserId=10010, TenantId=10002
2025-12-30 12:23:35.682 +02:00 [INF] HTTP POST /api/v1/tenants/10002/users responded 201 in 21.2346 ms
2025-12-30 12:24:20.303 +02:00 [INF] JsonApiException: Errors = [
  {
    "id": "7b3e35ce-9a29-4689-8dc0-bbe035179dec",
    "status": "422",
    "title": "Input validation failed.",
    "detail": "The Phone field is required.",
    "source": {
      "pointer": "/data/attributes/phone"
    }
  },
  {
    "id": "fac006d6-2556-421c-8475-2345b6ffa87c",
    "status": "422",
    "title": "Input validation failed.",
    "detail": "The Phone field is not a valid phone number.",
    "source": {
      "pointer": "/data/attributes/phone"
    }
  }
]
JsonApiDotNetCore.Errors.InvalidModelStateException: Exception of type 'JsonApiDotNetCore.Errors.InvalidModelStateException' was thrown.
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 209
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 83
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 12:24:20.309 +02:00 [INF] HTTP POST /api/v1/tenants/10002/users responded 422 in 203.5017 ms
2025-12-30 12:24:29.024 +02:00 [ERR] Create user failed. TenantId=10002, Email=Ploni@silvernet.com
System.InvalidOperationException: Invalid Israeli Phone.
   at SilvernetJSONAPI.Validators.Validations.ValidateIsraeliPhone(String phone) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Validators\Validations.cs:line 14
   at SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Services\UserResourceService.cs:line 47
2025-12-30 12:24:29.271 +02:00 [ERR] Invalid Israeli Phone.
System.InvalidOperationException: Invalid Israeli Phone.
   at void SilvernetJSONAPI.Validators.Validations.ValidateIsraeliPhone(string phone) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Validators/Validations.cs:line 14
   at async Task<UserResource> SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Services/UserResourceService.cs:line 47
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 212
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 83
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 12:24:29.281 +02:00 [ERR] HTTP POST /api/v1/tenants/10002/users responded 500 in 315.7761 ms
2025-12-30 12:24:41.132 +02:00 [INF] Creating user. TenantId=10002, Email=Ploni@silvernetm, IdNumber=******782, Phone=05******67
2025-12-30 12:24:41.137 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:24:41.156 +02:00 [INF] User created successfully. UserId=10011, TenantId=10002
2025-12-30 12:24:41.159 +02:00 [INF] HTTP POST /api/v1/tenants/10002/users responded 201 in 27.4676 ms
2025-12-30 12:26:30.547 +02:00 [INF] JsonApiException: Errors = [
  {
    "id": "32a403d2-f5cb-4974-a473-8415536fb1f5",
    "status": "422",
    "title": "Input validation failed.",
    "detail": "The Email field is not a valid e-mail address.",
    "source": {
      "pointer": "/data/attributes/email"
    }
  }
]
JsonApiDotNetCore.Errors.InvalidModelStateException: Exception of type 'JsonApiDotNetCore.Errors.InvalidModelStateException' was thrown.
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 209
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 83
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 12:26:30.549 +02:00 [INF] HTTP POST /api/v1/tenants/10002/users responded 422 in 160.7478 ms
2025-12-30 12:26:47.756 +02:00 [INF] Creating user. TenantId=10002, Email=plonit@silvernet.com, IdNumber=*****757, Phone=05******63
2025-12-30 12:26:47.761 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:26:47.770 +02:00 [INF] User created successfully. UserId=10012, TenantId=10002
2025-12-30 12:26:47.773 +02:00 [INF] HTTP POST /api/v1/tenants/10002/users responded 201 in 17.3872 ms
2025-12-30 12:27:20.743 +02:00 [INF] Creating user. TenantId=10002, Email=plona@silvernet.com, IdNumber=*****400, Phone=05******63
2025-12-30 12:27:20.745 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:27:20.866 +02:00 [ERR] Create user failed. TenantId=10002, Email=plona@silvernet.com
JsonApiDotNetCore.Errors.ResourceNotFoundException: Exception of type 'JsonApiDotNetCore.Errors.ResourceNotFoundException' was thrown.
   at JsonApiDotNetCore.Services.JsonApiResourceService`2.AssertPrimaryResourceExists(TResource resource) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 657
   at JsonApiDotNetCore.Services.JsonApiResourceService`2.GetPrimaryResourceByIdAsync(TId id, TopFieldSelection fieldSelection, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 595
   at JsonApiDotNetCore.Services.JsonApiResourceService`2.CreateAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 230
   at SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Services\UserResourceService.cs:line 52
2025-12-30 12:27:21.146 +02:00 [INF] JsonApiException: Errors = [
  {
    "id": "6c5d5b68-926a-4eba-ac99-c7d961f1d29d",
    "status": "404",
    "title": "The requested resource does not exist.",
    "detail": "Resource of type 'users' with ID '' does not exist."
  }
]
JsonApiDotNetCore.Errors.ResourceNotFoundException: Exception of type 'JsonApiDotNetCore.Errors.ResourceNotFoundException' was thrown.
   at void JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.AssertPrimaryResourceExists(TResource resource) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 657
   at async Task<TResource> JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.GetPrimaryResourceByIdAsync(TId id, TopFieldSelection fieldSelection, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 595
   at async Task<TResource> JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.CreateAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 230
   at async Task<UserResource> SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Services/UserResourceService.cs:line 52
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 212
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 83
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 12:27:21.153 +02:00 [INF] HTTP POST /api/v1/tenants/10002/users responded 404 in 414.2098 ms
2025-12-30 12:28:40.324 +02:00 [ERR] Create user failed. TenantId=10002, Email=israela@silvernet.com
System.InvalidOperationException: Invalid Israeli IdNumber.
   at SilvernetJSONAPI.Validators.Validations.ValidateIsraeliId(String id) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Validators\Validations.cs:line 8
   at SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Services\UserResourceService.cs:line 46
2025-12-30 12:28:40.573 +02:00 [ERR] Invalid Israeli IdNumber.
System.InvalidOperationException: Invalid Israeli IdNumber.
   at void SilvernetJSONAPI.Validators.Validations.ValidateIsraeliId(string id) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Validators/Validations.cs:line 8
   at async Task<UserResource> SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Services/UserResourceService.cs:line 46
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 212
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 83
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 12:28:40.581 +02:00 [ERR] HTTP POST /api/v1/tenants/10002/users responded 500 in 309.4241 ms
2025-12-30 12:28:55.527 +02:00 [INF] Creating user. TenantId=10002, Email=israela@silvernet.com, IdNumber=******118, Phone=05******66
2025-12-30 12:28:55.533 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:28:55.644 +02:00 [ERR] Create user failed. TenantId=10002, Email=israela@silvernet.com
JsonApiDotNetCore.Errors.ResourceNotFoundException: Exception of type 'JsonApiDotNetCore.Errors.ResourceNotFoundException' was thrown.
   at JsonApiDotNetCore.Services.JsonApiResourceService`2.AssertPrimaryResourceExists(TResource resource) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 657
   at JsonApiDotNetCore.Services.JsonApiResourceService`2.GetPrimaryResourceByIdAsync(TId id, TopFieldSelection fieldSelection, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 595
   at JsonApiDotNetCore.Services.JsonApiResourceService`2.CreateAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 230
   at SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Services\UserResourceService.cs:line 52
2025-12-30 12:28:55.890 +02:00 [INF] JsonApiException: Errors = [
  {
    "id": "6026673b-25c3-414c-8d53-cd5dd0c1e90c",
    "status": "404",
    "title": "The requested resource does not exist.",
    "detail": "Resource of type 'users' with ID '' does not exist."
  }
]
JsonApiDotNetCore.Errors.ResourceNotFoundException: Exception of type 'JsonApiDotNetCore.Errors.ResourceNotFoundException' was thrown.
   at void JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.AssertPrimaryResourceExists(TResource resource) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 657
   at async Task<TResource> JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.GetPrimaryResourceByIdAsync(TId id, TopFieldSelection fieldSelection, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 595
   at async Task<TResource> JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.CreateAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 230
   at async Task<UserResource> SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Services/UserResourceService.cs:line 52
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 212
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 83
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 12:28:55.896 +02:00 [INF] HTTP POST /api/v1/tenants/10002/users responded 404 in 369.1772 ms
2025-12-30 12:29:50.637 +02:00 [INF] JsonApiException: Errors = [
  {
    "id": "20013891-8131-4648-9b4c-a68ab74e802f",
    "status": "422",
    "title": "Failed to deserialize request body.",
    "detail": "'m' is an invalid start of a value. Path: $.data | LineNumber: 6 | BytePositionInLine: 15."
  }
]
JsonApiDotNetCore.Errors.InvalidRequestBodyException: Exception of type 'JsonApiDotNetCore.Errors.InvalidRequestBodyException' was thrown.
 ---> System.Text.Json.JsonException: 'm' is an invalid start of a value. Path: $.data | LineNumber: 6 | BytePositionInLine: 15.
 ---> System.Text.Json.JsonReaderException: 'm' is an invalid start of a value. LineNumber: 6 | BytePositionInLine: 15.
   at void System.Text.Json.ThrowHelper.ThrowJsonReaderException(ref Utf8JsonReader json, ExceptionResource resource, byte nextByte, ReadOnlySpan<byte> bytes)
   at bool System.Text.Json.Utf8JsonReader.ConsumeValue(byte marker)
   at bool System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at bool System.Text.Json.Utf8JsonReader.Read()
   at Dictionary<string, object> JsonApiDotNetCore.Serialization.JsonConverters.ResourceObjectConverter.ReadAttributes(ref Utf8JsonReader reader, JsonSerializerOptions options, ResourceType resourceType) in /_/src/JsonApiDotNetCore/Serialization/JsonConverters/ResourceObjectConverter.cs:line 186
   at ResourceObject JsonApiDotNetCore.Serialization.JsonConverters.ResourceObjectConverter.Read(ref Utf8JsonReader reader, Type typeToConvert, JsonSerializerOptions options) in /_/src/JsonApiDotNetCore/Serialization/JsonConverters/ResourceObjectConverter.cs:line 94
   at TValue JsonApiDotNetCore.Serialization.JsonConverters.JsonObjectConverter<TObject>.ReadSubTree<TValue>(ref Utf8JsonReader reader, JsonSerializerOptions options) in /_/src/JsonApiDotNetCore/Serialization/JsonConverters/JsonObjectConverter.cs:line 14
   at SingleOrManyData<T> JsonApiDotNetCore.Serialization.JsonConverters.SingleOrManyDataConverterFactory+SingleOrManyDataConverter<T>.Read(ref Utf8JsonReader reader, Type typeToConvert, JsonSerializerOptions options) in /_/src/JsonApiDotNetCore/Serialization/JsonConverters/SingleOrManyDataConverterFactory.cs:line 62
   at bool System.Text.Json.Serialization.JsonConverter<T>.TryRead(ref Utf8JsonReader reader, Type typeToConvert, JsonSerializerOptions options, ref ReadStack state, out T value, out bool isPopulatedValue)
   at bool System.Text.Json.Serialization.Metadata.JsonPropertyInfo<T>.ReadJsonAndSetMember(object obj, ref ReadStack state, ref Utf8JsonReader reader)
   at bool System.Text.Json.Serialization.Converters.ObjectDefaultConverter<T>.OnTryRead(ref Utf8JsonReader reader, Type typeToConvert, JsonSerializerOptions options, ref ReadStack state, out T value)
   at bool System.Text.Json.Serialization.JsonConverter<T>.ReadCore(ref Utf8JsonReader reader, out T value, JsonSerializerOptions options, ref ReadStack state)
   --- End of inner exception stack trace ---
   at void System.Text.Json.ThrowHelper.ReThrowWithPath(ref ReadStack state, JsonReaderException ex)
   at bool System.Text.Json.Serialization.JsonConverter<T>.ReadCore(ref Utf8JsonReader reader, out T value, JsonSerializerOptions options, ref ReadStack state)
   at T System.Text.Json.Serialization.Metadata.JsonTypeInfo<T>.Deserialize(ref Utf8JsonReader reader, ref ReadStack state)
   at TValue System.Text.Json.JsonSerializer.ReadFromSpan<TValue>(ReadOnlySpan<byte> utf8Json, JsonTypeInfo<TValue> jsonTypeInfo, int? actualByteCount) x 2
   at TValue System.Text.Json.JsonSerializer.Deserialize<TValue>(string json, JsonSerializerOptions options)
   at Document JsonApiDotNetCore.Serialization.Request.JsonApiReader.DeserializeDocument(string requestBody) in /_/src/JsonApiDotNetCore/Serialization/Request/JsonApiReader.cs:line 87
   --- End of inner exception stack trace ---
   at Document JsonApiDotNetCore.Serialization.Request.JsonApiReader.DeserializeDocument(string requestBody) in /_/src/JsonApiDotNetCore/Serialization/Request/JsonApiReader.cs:line 98
   at object JsonApiDotNetCore.Serialization.Request.JsonApiReader.GetModel(string requestBody) in /_/src/JsonApiDotNetCore/Serialization/Request/JsonApiReader.cs:line 67
   at async Task<object> JsonApiDotNetCore.Serialization.Request.JsonApiReader.ReadAsync(HttpRequest httpRequest) in /_/src/JsonApiDotNetCore/Serialization/Request/JsonApiReader.cs:line 50
   at async Task<InputFormatterResult> JsonApiDotNetCore.Middleware.JsonApiInputFormatter.ReadAsync(InputFormatterContext context) in /_/src/JsonApiDotNetCore/Middleware/JsonApiInputFormatter.cs:line 25
   at async Task Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder.BindModelAsync(ModelBindingContext bindingContext)
   at async ValueTask<ModelBindingResult> Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, object value, object container)
   at async ControllerBinderDelegate Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.CreateBinderDelegate(ParameterBinder parameterBinder, IModelBinderFactory modelBinderFactory, IModelMetadataProvider modelMetadataProvider, ControllerActionDescriptor actionDescriptor, MvcOptions mvcOptions)+Bind(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 12:29:50.643 +02:00 [INF] HTTP POST /api/v1/tenants/10004/users responded 422 in 244.2494 ms
2025-12-30 12:30:05.087 +02:00 [INF] Creating user. TenantId=10004, Email=mister@silvernet.com, IdNumber=******018, Phone=05******61
2025-12-30 12:30:05.091 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:30:05.105 +02:00 [INF] User created successfully. UserId=10015, TenantId=10004
2025-12-30 12:30:05.108 +02:00 [INF] HTTP POST /api/v1/tenants/10004/users responded 201 in 21.7839 ms
2025-12-30 12:30:47.620 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:30:47.636 +02:00 [INF] HTTP GET /api/v1/tenants/10002/users/10007 responded 200 in 24.0405 ms
2025-12-30 12:30:52.879 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:30:53.180 +02:00 [INF] JsonApiException: Errors = [
  {
    "id": "9d9bc7ab-da03-4d04-be3d-6cf2e48e0bd8",
    "status": "404",
    "title": "The requested resource does not exist.",
    "detail": "Resource of type 'users' with ID '10001' does not exist."
  }
]
JsonApiDotNetCore.Errors.ResourceNotFoundException: Exception of type 'JsonApiDotNetCore.Errors.ResourceNotFoundException' was thrown.
   at void JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.AssertPrimaryResourceExists(TResource resource) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 657
   at async Task<TResource> JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.GetPrimaryResourceByIdAsync(TId id, TopFieldSelection fieldSelection, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 595
   at async Task<TResource> JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.GetAsync(TId id, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 97
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.GetAsync(TId id, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 124
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.GetAsync(TId id, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 58
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 12:30:53.184 +02:00 [INF] HTTP GET /api/v1/tenants/10002/users/10001 responded 404 in 305.6155 ms
2025-12-30 12:31:08.497 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:31:08.728 +02:00 [INF] JsonApiException: Errors = [
  {
    "id": "30544124-6b1e-4cb5-aa4b-999763d7bf79",
    "status": "404",
    "title": "The requested resource does not exist.",
    "detail": "Resource of type 'users' with ID '10007' does not exist."
  }
]
JsonApiDotNetCore.Errors.ResourceNotFoundException: Exception of type 'JsonApiDotNetCore.Errors.ResourceNotFoundException' was thrown.
   at void JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.AssertPrimaryResourceExists(TResource resource) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 657
   at async Task<TResource> JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.GetPrimaryResourceByIdAsync(TId id, TopFieldSelection fieldSelection, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 595
   at async Task<TResource> JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.GetAsync(TId id, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 97
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.GetAsync(TId id, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 124
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.GetAsync(TId id, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 58
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 12:31:08.731 +02:00 [INF] HTTP GET /api/v1/tenants/10004/users/10007 responded 404 in 233.8042 ms
2025-12-30 12:31:29.320 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:31:29.334 +02:00 [INF] HTTP DELETE /api/v1/tenants/1004/users/10013 responded 204 in 30.9193 ms
2025-12-30 12:31:31.098 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:31:31.710 +02:00 [INF] JsonApiException: Errors = [
  {
    "id": "5caad970-efa4-4124-a6e1-9f632f140cf1",
    "status": "404",
    "title": "The requested resource does not exist.",
    "detail": "Resource of type 'users' with ID '10013' does not exist."
  }
]
JsonApiDotNetCore.Errors.ResourceNotFoundException: Exception of type 'JsonApiDotNetCore.Errors.ResourceNotFoundException' was thrown.
   at void JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.AssertPrimaryResourceExists(TResource resource) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 657
   at async Task<TResource> JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.GetPrimaryResourceByIdAsync(TId id, TopFieldSelection fieldSelection, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 595
   at async Task JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.DeleteAsync(TId id, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 557
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.DeleteAsync(TId id, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 366
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.DeleteAsync(TId id, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 116
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 12:31:31.714 +02:00 [INF] HTTP DELETE /api/v1/tenants/1004/users/10013 responded 404 in 616.7337 ms
2025-12-30 12:46:26.332 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 12:46:26.717 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:46:46.375 +02:00 [INF] HTTP POST /api/auth/login responded 200 in 107.6044 ms
2025-12-30 12:46:58.177 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:46:59.005 +02:00 [INF] HTTP GET /api/v1/tenants responded 200 in 942.0210 ms
2025-12-30 12:47:34.092 +02:00 [INF] Creating tenant. Name=Palo Alto, Email=contact@paloalto.co.il, Phone=05******60
2025-12-30 12:47:34.106 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:47:34.293 +02:00 [INF] Tenant created successfully. TenantId=10006
2025-12-30 12:47:34.299 +02:00 [INF] HTTP POST /api/v1/tenants responded 201 in 283.2838 ms
2025-12-30 12:48:14.952 +02:00 [INF] Updating tenant. TenantId=1006, Email=null, Phone=05******43
2025-12-30 12:48:14.966 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:48:15.108 +02:00 [ERR] Update tenant failed. TenantId=1006
JsonApiDotNetCore.Errors.ResourceNotFoundException: Exception of type 'JsonApiDotNetCore.Errors.ResourceNotFoundException' was thrown.
   at JsonApiDotNetCore.Services.JsonApiResourceService`2.AssertPrimaryResourceExists(TResource resource) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 657
   at JsonApiDotNetCore.Services.JsonApiResourceService`2.GetPrimaryResourceForUpdateAsync(TId id, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 618
   at JsonApiDotNetCore.Services.JsonApiResourceService`2.UpdateAsync(TId id, TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 467
   at SilvernetJSONAPI.Services.TenantResourceService.UpdateAsync(Int64 id, TenantResource resource, CancellationToken cancellationToken) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Services\TenantResourceService.cs:line 81
2025-12-30 12:48:15.545 +02:00 [INF] JsonApiException: Errors = [
  {
    "id": "806933d3-6268-4f26-80a6-244b433ed94d",
    "status": "404",
    "title": "The requested resource does not exist.",
    "detail": "Resource of type 'tenants' with ID '1006' does not exist."
  }
]
JsonApiDotNetCore.Errors.ResourceNotFoundException: Exception of type 'JsonApiDotNetCore.Errors.ResourceNotFoundException' was thrown.
   at void JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.AssertPrimaryResourceExists(TResource resource) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 657
   at async Task<TResource> JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.GetPrimaryResourceForUpdateAsync(TId id, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 618
   at async Task<TResource> JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.UpdateAsync(TId id, TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 467
   at async Task<TenantResource> SilvernetJSONAPI.Services.TenantResourceService.UpdateAsync(long id, TenantResource resource, CancellationToken cancellationToken) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Services/TenantResourceService.cs:line 81
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PatchAsync(TId id, TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 301
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PatchAsync(TId id, TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 99
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 12:48:15.562 +02:00 [INF] HTTP PATCH /api/v1/tenants/1006 responded 404 in 631.9019 ms
2025-12-30 12:48:21.488 +02:00 [INF] Updating tenant. TenantId=10006, Email=null, Phone=05******43
2025-12-30 12:48:21.492 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:48:21.511 +02:00 [INF] Tenant updated successfully. TenantId=10006
2025-12-30 12:48:21.520 +02:00 [INF] HTTP PATCH /api/v1/tenants/10006 responded 200 in 38.5609 ms
2025-12-30 12:50:55.907 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 12:50:56.396 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:51:16.924 +02:00 [INF] Updating tenant. TenantId=10006, Email=null, Phone=05******43
2025-12-30 12:51:16.959 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:51:17.765 +02:00 [INF] Tenant updated successfully. TenantId=10006
2025-12-30 12:51:17.819 +02:00 [INF] HTTP PATCH /api/v1/tenants/10006 responded 200 in 1042.7599 ms
2025-12-30 12:53:06.080 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 12:53:06.568 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:53:27.306 +02:00 [INF] Updating tenant. TenantId=10006, Email=null, Phone=05******43
2025-12-30 12:53:27.365 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:53:28.186 +02:00 [INF] Tenant updated successfully. TenantId=10006
2025-12-30 12:53:28.261 +02:00 [INF] HTTP PATCH /api/v1/tenants/10006 responded 200 in 1120.0913 ms
2025-12-30 12:55:32.313 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 12:55:32.817 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:55:49.081 +02:00 [INF] Updating tenant. TenantId=10006, Email=null, Phone=05******43
2025-12-30 12:55:49.148 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:55:49.893 +02:00 [INF] Tenant updated successfully. TenantId=10006
2025-12-30 12:55:49.971 +02:00 [INF] HTTP PATCH /api/v1/tenants/10006 responded 200 in 1050.1074 ms
2025-12-30 12:58:12.923 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 12:58:13.451 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:58:33.535 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 12:58:33.660 +02:00 [INF] Updating tenant. TenantId=10006, Email=null, Phone=05******43
2025-12-30 12:58:34.474 +02:00 [INF] Tenant updated successfully. TenantId=10006
2025-12-30 12:58:34.545 +02:00 [INF] HTTP PATCH /api/v1/tenants/10006 responded 200 in 1037.3232 ms
2025-12-30 12:58:57.532 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 12:58:57.566 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 12:58:57.640 +02:00 [INF] HTTP GET /api/v1/tenants responded 200 in 119.7265 ms
2025-12-30 13:01:17.389 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 13:01:17.924 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 13:01:34.136 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 13:01:34.240 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 13:01:34.960 +02:00 [INF] HTTP GET /api/v1/tenants responded 304 in 845.0549 ms
2025-12-30 13:01:52.934 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 13:01:53.022 +02:00 [INF] Creating tenant. Name=test, Email=contact@test.co.il, Phone=05******69
2025-12-30 13:01:53.174 +02:00 [INF] Tenant created successfully. TenantId=10007
2025-12-30 13:01:53.181 +02:00 [INF] HTTP POST /api/v1/tenants responded 201 in 258.5849 ms
2025-12-30 13:02:08.161 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 13:02:08.446 +02:00 [INF] JsonApiException: Errors = [
  {
    "id": "8a5a2be5-315b-41e6-81f5-3518ac7bc4a2",
    "status": "422",
    "title": "Input validation failed.",
    "detail": "The Email field is not a valid e-mail address.",
    "source": {
      "pointer": "/data/attributes/email"
    }
  }
]
JsonApiDotNetCore.Errors.InvalidModelStateException: Exception of type 'JsonApiDotNetCore.Errors.InvalidModelStateException' was thrown.
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 209
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 83
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 13:02:08.464 +02:00 [INF] HTTP POST /api/v1/tenants responded 422 in 314.5473 ms
2025-12-30 13:02:16.093 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 13:02:16.143 +02:00 [ERR] Create tenant failed. Email=contact@test.org
System.InvalidOperationException: Invalid Israeli Phone.
   at SilvernetJSONAPI.Validators.Validations.ValidateIsraeliPhone(String phone) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Validators\Validations.cs:line 14
   at SilvernetJSONAPI.Services.TenantResourceService.CreateAsync(TenantResource resource, CancellationToken cancellationToken) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Services\TenantResourceService.cs:line 51
2025-12-30 13:02:16.335 +02:00 [ERR] Invalid Israeli Phone.
System.InvalidOperationException: Invalid Israeli Phone.
   at void SilvernetJSONAPI.Validators.Validations.ValidateIsraeliPhone(string phone) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Validators/Validations.cs:line 14
   at async Task<TenantResource> SilvernetJSONAPI.Services.TenantResourceService.CreateAsync(TenantResource resource, CancellationToken cancellationToken) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Services/TenantResourceService.cs:line 51
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 212
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 83
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 13:02:16.339 +02:00 [ERR] HTTP POST /api/v1/tenants responded 500 in 245.8424 ms
2025-12-30 13:02:23.700 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 13:02:23.703 +02:00 [INF] Creating tenant. Name=test, Email=contact@test.org, Phone=05******25
2025-12-30 13:02:23.717 +02:00 [INF] Tenant created successfully. TenantId=10008
2025-12-30 13:02:23.720 +02:00 [INF] HTTP POST /api/v1/tenants responded 201 in 19.9653 ms
2025-12-30 13:02:34.920 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 13:02:34.934 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 13:02:34.970 +02:00 [INF] HTTP GET /api/v1/tenants/10008 responded 200 in 57.0975 ms
2025-12-30 13:03:12.599 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 13:03:12.612 +02:00 [INF] Updating tenant. TenantId=10008, Email=null, Phone=05******33
2025-12-30 13:03:12.672 +02:00 [INF] Tenant updated successfully. TenantId=10008
2025-12-30 13:03:12.675 +02:00 [INF] HTTP PATCH /api/v1/tenants/10008 responded 200 in 80.2913 ms
2025-12-30 13:03:26.375 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 13:03:26.444 +02:00 [ERR] Update tenant failed. TenantId=10008
System.InvalidOperationException: Invalid Israeli Phone.
   at SilvernetJSONAPI.Validators.Validations.ValidateIsraeliPhone(String phone) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Validators\Validations.cs:line 14
   at SilvernetJSONAPI.Services.TenantResourceService.UpdateAsync(Int64 id, TenantResource resource, CancellationToken cancellationToken) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Services\TenantResourceService.cs:line 82
2025-12-30 13:03:26.636 +02:00 [ERR] Invalid Israeli Phone.
System.InvalidOperationException: Invalid Israeli Phone.
   at void SilvernetJSONAPI.Validators.Validations.ValidateIsraeliPhone(string phone) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Validators/Validations.cs:line 14
   at async Task<TenantResource> SilvernetJSONAPI.Services.TenantResourceService.UpdateAsync(long id, TenantResource resource, CancellationToken cancellationToken) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Services/TenantResourceService.cs:line 82
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PatchAsync(TId id, TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 301
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PatchAsync(TId id, TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 99
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 13:03:26.640 +02:00 [ERR] HTTP PATCH /api/v1/tenants/10008 responded 500 in 264.7970 ms
2025-12-30 13:04:00.077 +02:00 [INF] HTTP POST /api/auth/login responded 200 in 60.0720 ms
2025-12-30 13:04:15.379 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 13:04:15.389 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 13:04:15.409 +02:00 [INF] HTTP GET /api/v1/tenants/10008/users responded 200 in 33.0634 ms
2025-12-30 13:04:22.228 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 13:04:22.233 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 13:04:22.246 +02:00 [INF] HTTP GET /api/v1/tenants/10008/users responded 304 in 18.5494 ms
2025-12-30 13:04:34.509 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 13:04:34.518 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 13:04:34.552 +02:00 [INF] HTTP GET /api/v1/tenants/10002/users responded 200 in 44.4102 ms
2025-12-30 13:04:49.757 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 13:04:49.761 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 13:04:49.777 +02:00 [INF] HTTP GET /api/v1/tenants/10002/users/10007 responded 304 in 25.6246 ms
2025-12-30 13:05:31.526 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 13:05:31.545 +02:00 [INF] Creating user. TenantId=10008, Email=test@example.org, IdNumber=******782, Phone=05******23
2025-12-30 13:05:31.737 +02:00 [ERR] Failed executing DbCommand (126ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (Size = 20), @p4='?' (Size = 12), @p5='?' (DbType = DateTime2), @p6='?' (Size = 50), @p7='?' (Size = 10), @p8='?' (Size = 9), @p9='?' (Size = 10), @p10='?' (Size = 12), @p11='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Tenants] ([Id], [CreationDate], [Email], [Name], [Phone])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [Users] ([CreationDate], [Email], [FirstName], [IdNumber], [LastName], [Phone], [TenantId])
OUTPUT INSERTED.[Id]
VALUES (@p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-12-30 13:05:31.996 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'SilvernetJSONAPI.Data.WriteDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Tenants' when IDENTITY_INSERT is set to OFF.
Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_IdNumber'. The duplicate key value is (123456782).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f4e72e48-10b3-401f-9f99-0dcd6a87a6e6
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Tenants' when IDENTITY_INSERT is set to OFF.
Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_IdNumber'. The duplicate key value is (123456782).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f4e72e48-10b3-401f-9f99-0dcd6a87a6e6
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-30 13:05:32.061 +02:00 [ERR] Create user failed. TenantId=10008, Email=test@example.org
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Tenants' when IDENTITY_INSERT is set to OFF.
Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_IdNumber'. The duplicate key value is (123456782).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f4e72e48-10b3-401f-9f99-0dcd6a87a6e6
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Services\UserResourceService.cs:line 58
2025-12-30 13:05:32.354 +02:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Tenants' when IDENTITY_INSERT is set to OFF.
Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_IdNumber'. The duplicate key value is (123456782).
The statement has been terminated.
   at Task<DbDataReader> Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)+(Task<SqlDataReader> result) => { }
   at void System.Threading.Tasks.ContinuationResultTaskFromResultTask<TAntecedentResult, TResult>.InnerInvoke()
   at async Task<RelationalDataReader> Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken) x 2
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f4e72e48-10b3-401f-9f99-0dcd6a87a6e6
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at async Task Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable<ModificationCommandBatch> commandBatches, IRelationalConnection connection, CancellationToken cancellationToken) x 3
   at async Task<int> Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList<IUpdateEntry> entriesToSave, CancellationToken cancellationToken) x 2
   at async Task<TResult> Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync<TState, TResult>(TState state, Func<DbContext, TState, CancellationToken, Task<TResult>> operation, Func<DbContext, TState, CancellationToken, Task<ExecutionResult<TResult>>> verifySucceeded, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(bool acceptAllChangesOnSuccess, CancellationToken cancellationToken) x 2
   at async Task<UserResource> SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Services/UserResourceService.cs:line 58
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 212
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 83
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 13:05:32.363 +02:00 [ERR] HTTP POST /api/v1/tenants/10008/users responded 500 in 841.3918 ms
2025-12-30 13:06:42.420 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 13:06:42.485 +02:00 [ERR] Create user failed. TenantId=10008, Email=test@example.org
System.InvalidOperationException: Invalid Israeli IdNumber.
   at SilvernetJSONAPI.Validators.Validations.ValidateIsraeliId(String id) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Validators\Validations.cs:line 8
   at SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Services\UserResourceService.cs:line 51
2025-12-30 13:06:42.665 +02:00 [ERR] Invalid Israeli IdNumber.
System.InvalidOperationException: Invalid Israeli IdNumber.
   at void SilvernetJSONAPI.Validators.Validations.ValidateIsraeliId(string id) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Validators/Validations.cs:line 8
   at async Task<UserResource> SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Services/UserResourceService.cs:line 51
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 212
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 83
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 13:06:42.668 +02:00 [ERR] HTTP POST /api/v1/tenants/10008/users responded 500 in 247.9119 ms
2025-12-30 13:06:51.833 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 13:06:51.872 +02:00 [ERR] Create user failed. TenantId=10008, Email=test@example.org
System.InvalidOperationException: Invalid Israeli IdNumber.
   at SilvernetJSONAPI.Validators.Validations.ValidateIsraeliId(String id) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Validators\Validations.cs:line 8
   at SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Services\UserResourceService.cs:line 51
2025-12-30 13:06:52.088 +02:00 [ERR] Invalid Israeli IdNumber.
System.InvalidOperationException: Invalid Israeli IdNumber.
   at void SilvernetJSONAPI.Validators.Validations.ValidateIsraeliId(string id) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Validators/Validations.cs:line 8
   at async Task<UserResource> SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Services/UserResourceService.cs:line 51
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 212
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 83
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 13:06:52.093 +02:00 [ERR] HTTP POST /api/v1/tenants/10008/users responded 500 in 260.3176 ms
2025-12-30 13:07:00.814 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 13:07:00.860 +02:00 [ERR] Create user failed. TenantId=10008, Email=test@example.org
System.InvalidOperationException: Invalid Israeli IdNumber.
   at SilvernetJSONAPI.Validators.Validations.ValidateIsraeliId(String id) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Validators\Validations.cs:line 8
   at SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Services\UserResourceService.cs:line 51
2025-12-30 13:07:01.042 +02:00 [ERR] Invalid Israeli IdNumber.
System.InvalidOperationException: Invalid Israeli IdNumber.
   at void SilvernetJSONAPI.Validators.Validations.ValidateIsraeliId(string id) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Validators/Validations.cs:line 8
   at async Task<UserResource> SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Services/UserResourceService.cs:line 51
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 212
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 83
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 13:07:01.045 +02:00 [ERR] HTTP POST /api/v1/tenants/10008/users responded 500 in 231.5181 ms
2025-12-30 13:07:22.612 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 13:07:22.620 +02:00 [INF] Creating user. TenantId=10008, Email=test@example.org, IdNumber=******465, Phone=05******23
2025-12-30 13:07:22.725 +02:00 [ERR] Failed executing DbCommand (101ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (Size = 20), @p4='?' (Size = 12), @p5='?' (DbType = DateTime2), @p6='?' (Size = 50), @p7='?' (Size = 10), @p8='?' (Size = 9), @p9='?' (Size = 10), @p10='?' (Size = 12), @p11='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Tenants] ([Id], [CreationDate], [Email], [Name], [Phone])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [Users] ([CreationDate], [Email], [FirstName], [IdNumber], [LastName], [Phone], [TenantId])
OUTPUT INSERTED.[Id]
VALUES (@p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-12-30 13:07:22.889 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'SilvernetJSONAPI.Data.WriteDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Tenants' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f4e72e48-10b3-401f-9f99-0dcd6a87a6e6
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Tenants' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f4e72e48-10b3-401f-9f99-0dcd6a87a6e6
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-30 13:07:22.964 +02:00 [ERR] Create user failed. TenantId=10008, Email=test@example.org
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Tenants' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f4e72e48-10b3-401f-9f99-0dcd6a87a6e6
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Services\UserResourceService.cs:line 58
2025-12-30 13:07:23.273 +02:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Tenants' when IDENTITY_INSERT is set to OFF.
   at Task<DbDataReader> Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)+(Task<SqlDataReader> result) => { }
   at void System.Threading.Tasks.ContinuationResultTaskFromResultTask<TAntecedentResult, TResult>.InnerInvoke()
   at async Task<RelationalDataReader> Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken) x 2
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f4e72e48-10b3-401f-9f99-0dcd6a87a6e6
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at async Task Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable<ModificationCommandBatch> commandBatches, IRelationalConnection connection, CancellationToken cancellationToken) x 3
   at async Task<int> Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList<IUpdateEntry> entriesToSave, CancellationToken cancellationToken) x 2
   at async Task<TResult> Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync<TState, TResult>(TState state, Func<DbContext, TState, CancellationToken, Task<TResult>> operation, Func<DbContext, TState, CancellationToken, Task<ExecutionResult<TResult>>> verifySucceeded, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(bool acceptAllChangesOnSuccess, CancellationToken cancellationToken) x 2
   at async Task<UserResource> SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Services/UserResourceService.cs:line 58
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 212
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 83
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 13:07:23.279 +02:00 [ERR] HTTP POST /api/v1/tenants/10008/users responded 500 in 666.9656 ms
2025-12-30 13:08:07.626 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 13:08:07.631 +02:00 [INF] Creating user. TenantId=10008, Email=test@example.org, IdNumber=******465, Phone=05******23
2025-12-30 13:08:07.758 +02:00 [ERR] Failed executing DbCommand (119ms) [Parameters=[@p0='?' (DbType = Int64), @p1='?' (DbType = DateTime2), @p2='?' (Size = 50), @p3='?' (Size = 20), @p4='?' (Size = 12), @p5='?' (DbType = DateTime2), @p6='?' (Size = 50), @p7='?' (Size = 10), @p8='?' (Size = 9), @p9='?' (Size = 10), @p10='?' (Size = 12), @p11='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Tenants] ([Id], [CreationDate], [Email], [Name], [Phone])
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO [Users] ([CreationDate], [Email], [FirstName], [IdNumber], [LastName], [Phone], [TenantId])
OUTPUT INSERTED.[Id]
VALUES (@p5, @p6, @p7, @p8, @p9, @p10, @p11);
2025-12-30 13:08:07.978 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'SilvernetJSONAPI.Data.WriteDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Tenants' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f4e72e48-10b3-401f-9f99-0dcd6a87a6e6
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Tenants' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f4e72e48-10b3-401f-9f99-0dcd6a87a6e6
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-30 13:08:08.055 +02:00 [ERR] Create user failed. TenantId=10008, Email=test@example.org
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Tenants' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f4e72e48-10b3-401f-9f99-0dcd6a87a6e6
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Services\UserResourceService.cs:line 58
2025-12-30 13:08:08.311 +02:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'Tenants' when IDENTITY_INSERT is set to OFF.
   at Task<DbDataReader> Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)+(Task<SqlDataReader> result) => { }
   at void System.Threading.Tasks.ContinuationResultTaskFromResultTask<TAntecedentResult, TResult>.InnerInvoke()
   at async Task<RelationalDataReader> Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken) x 2
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f4e72e48-10b3-401f-9f99-0dcd6a87a6e6
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at async Task Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable<ModificationCommandBatch> commandBatches, IRelationalConnection connection, CancellationToken cancellationToken) x 3
   at async Task<int> Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList<IUpdateEntry> entriesToSave, CancellationToken cancellationToken) x 2
   at async Task<TResult> Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync<TState, TResult>(TState state, Func<DbContext, TState, CancellationToken, Task<TResult>> operation, Func<DbContext, TState, CancellationToken, Task<ExecutionResult<TResult>>> verifySucceeded, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(bool acceptAllChangesOnSuccess, CancellationToken cancellationToken) x 2
   at async Task<UserResource> SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Services/UserResourceService.cs:line 58
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 212
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 83
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 13:08:08.321 +02:00 [ERR] HTTP POST /api/v1/tenants/10008/users responded 500 in 697.3290 ms
2025-12-30 13:08:42.440 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 13:08:42.443 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 13:08:42.457 +02:00 [INF] HTTP GET /api/v1/tenants/10002/users/10007 responded 304 in 16.6344 ms
2025-12-30 13:09:28.167 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 13:09:28.174 +02:00 [INF] Updating user. UserId=10015, TenantId=10004, Email=null, IdNumber=null, Phone=05******23
2025-12-30 13:09:28.202 +02:00 [INF] User updated successfully. UserId=10015
2025-12-30 13:09:28.207 +02:00 [INF] HTTP PATCH /api/v1/tenants/10004/users/10015 responded 200 in 47.6058 ms
2025-12-30 13:11:58.416 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 13:11:58.939 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 13:13:08.181 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 13:13:08.571 +02:00 [INF] JsonApiException: Errors = [
  {
    "id": "fb0934d1-f7c8-4fbf-b963-10ca16694c0f",
    "status": "422",
    "title": "Input validation failed.",
    "detail": "The Tenant field is required.",
    "source": {
      "pointer": "/data/relationships/tenant/data"
    }
  }
]
JsonApiDotNetCore.Errors.InvalidModelStateException: Exception of type 'JsonApiDotNetCore.Errors.InvalidModelStateException' was thrown.
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 209
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 83
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 13:13:08.621 +02:00 [INF] HTTP POST /api/v1/tenants/315853465/users responded 422 in 463.3067 ms
2025-12-30 13:14:17.286 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 13:14:17.322 +02:00 [INF] Creating user. TenantId=315853465, Email=ido@example.com, IdNumber=******465, Phone=05******67
2025-12-30 13:14:18.221 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'SilvernetJSONAPI.Data.WriteDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Users_Tenants_TenantId". The conflict occurred in database "SilvernetJSONAPI_Db", table "dbo.Tenants", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1c936546-6b4f-47e5-84aa-7e8caf751858
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Users_Tenants_TenantId". The conflict occurred in database "SilvernetJSONAPI_Db", table "dbo.Tenants", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1c936546-6b4f-47e5-84aa-7e8caf751858
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-30 13:14:18.326 +02:00 [ERR] Create user failed. TenantId=315853465, Email=ido@example.com
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Users_Tenants_TenantId". The conflict occurred in database "SilvernetJSONAPI_Db", table "dbo.Tenants", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1c936546-6b4f-47e5-84aa-7e8caf751858
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Services\UserResourceService.cs:line 61
2025-12-30 13:14:18.722 +02:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Users_Tenants_TenantId". The conflict occurred in database "SilvernetJSONAPI_Db", table "dbo.Tenants", column 'Id'.
   at void Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, bool breakConnection, Action<Action> wrapCloseInAction)
   at void Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, bool breakConnection, Action<Action> wrapCloseInAction)
   at void Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, bool callerHasConnectionLock, bool asyncClose)
   at bool Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, out bool dataReady)
   at bool Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(out bool moreRows)
   at bool Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(bool setTimeout, out bool more)
   at Task<bool> Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, object state)
   at Task<T> Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall<T>(SqlDataReaderBaseAsyncCallContext<T> context)
   at async Task<int> Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(int startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1c936546-6b4f-47e5-84aa-7e8caf751858
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at async Task<int> Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(int startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at async Task Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken) x 2
   at async Task Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable<ModificationCommandBatch> commandBatches, IRelationalConnection connection, CancellationToken cancellationToken) x 3
   at async Task<int> Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList<IUpdateEntry> entriesToSave, CancellationToken cancellationToken) x 2
   at async Task<TResult> Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync<TState, TResult>(TState state, Func<DbContext, TState, CancellationToken, Task<TResult>> operation, Func<DbContext, TState, CancellationToken, Task<ExecutionResult<TResult>>> verifySucceeded, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(bool acceptAllChangesOnSuccess, CancellationToken cancellationToken) x 2
   at async Task<UserResource> SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Services/UserResourceService.cs:line 61
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 212
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 83
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 13:14:18.729 +02:00 [ERR] HTTP POST /api/v1/tenants/315853465/users responded 500 in 1457.8082 ms
2025-12-30 13:14:47.385 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 13:14:47.406 +02:00 [INF] Creating user. TenantId=315853465, Email=ido@example.com, IdNumber=******465, Phone=05******67
2025-12-30 13:14:47.646 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'SilvernetJSONAPI.Data.WriteDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Users_Tenants_TenantId". The conflict occurred in database "SilvernetJSONAPI_Db", table "dbo.Tenants", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1c936546-6b4f-47e5-84aa-7e8caf751858
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Users_Tenants_TenantId". The conflict occurred in database "SilvernetJSONAPI_Db", table "dbo.Tenants", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1c936546-6b4f-47e5-84aa-7e8caf751858
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-30 13:14:47.746 +02:00 [ERR] Create user failed. TenantId=315853465, Email=ido@example.com
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Users_Tenants_TenantId". The conflict occurred in database "SilvernetJSONAPI_Db", table "dbo.Tenants", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1c936546-6b4f-47e5-84aa-7e8caf751858
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Services\UserResourceService.cs:line 61
2025-12-30 13:14:48.025 +02:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Users_Tenants_TenantId". The conflict occurred in database "SilvernetJSONAPI_Db", table "dbo.Tenants", column 'Id'.
   at void Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, bool breakConnection, Action<Action> wrapCloseInAction)
   at void Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, bool breakConnection, Action<Action> wrapCloseInAction)
   at void Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, bool callerHasConnectionLock, bool asyncClose)
   at bool Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, out bool dataReady)
   at bool Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(out bool moreRows)
   at bool Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(bool setTimeout, out bool more)
   at Task<bool> Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, object state)
   at Task<T> Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall<T>(SqlDataReaderBaseAsyncCallContext<T> context)
   at async Task<int> Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(int startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1c936546-6b4f-47e5-84aa-7e8caf751858
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at async Task<int> Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(int startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at async Task Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken) x 2
   at async Task Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable<ModificationCommandBatch> commandBatches, IRelationalConnection connection, CancellationToken cancellationToken) x 3
   at async Task<int> Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList<IUpdateEntry> entriesToSave, CancellationToken cancellationToken) x 2
   at async Task<TResult> Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync<TState, TResult>(TState state, Func<DbContext, TState, CancellationToken, Task<TResult>> operation, Func<DbContext, TState, CancellationToken, Task<ExecutionResult<TResult>>> verifySucceeded, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(bool acceptAllChangesOnSuccess, CancellationToken cancellationToken) x 2
   at async Task<UserResource> SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Services/UserResourceService.cs:line 61
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 212
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 83
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 13:14:48.035 +02:00 [ERR] HTTP POST /api/v1/tenants/315853465/users responded 500 in 658.0096 ms
2025-12-30 13:19:42.236 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 13:19:42.860 +02:00 [WRN] ### READ CONTEXT CONSTRUCTED ###
2025-12-30 13:20:05.027 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 13:20:05.223 +02:00 [INF] Creating user. TenantId=10007, Email=ido@example.com, IdNumber=******465, Phone=05******67
2025-12-30 13:20:05.866 +02:00 [INF] User created successfully. UserId=10021, TenantId=10007
2025-12-30 13:20:05.946 +02:00 [INF] HTTP POST /api/v1/tenants/10007/users responded 201 in 936.5351 ms
2025-12-30 13:20:52.145 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 13:20:52.450 +02:00 [INF] JsonApiException: Errors = [
  {
    "id": "845f9e1c-7786-47f4-80b0-d5e16fe0a55e",
    "status": "409",
    "title": "Failed to deserialize request body: Conflicting 'id' values found.",
    "detail": "Expected '10021' instead of '100021'.",
    "source": {
      "pointer": "/data/id"
    }
  }
]
JsonApiDotNetCore.Errors.InvalidRequestBodyException: Exception of type 'JsonApiDotNetCore.Errors.InvalidRequestBodyException' was thrown.
 ---> JsonApiDotNetCore.Serialization.Request.ModelConversionException: Conflicting 'id' values found.
   at void JsonApiDotNetCore.Serialization.Request.Adapters.ResourceIdentityAdapter.AssertSameIdValue(ResourceIdentity identity, string expected, RequestAdapterState state) in /_/src/JsonApiDotNetCore/Serialization/Request/Adapters/ResourceIdentityAdapter.cs:line 206
   at IIdentifiable JsonApiDotNetCore.Serialization.Request.Adapters.ResourceIdentityAdapter.CreateResource(ResourceIdentity identity, ResourceIdentityRequirements requirements, ResourceType resourceType, RequestAdapterState state) in /_/src/JsonApiDotNetCore/Serialization/Request/Adapters/ResourceIdentityAdapter.cs:line 120
   at (IIdentifiable resource, ResourceType resourceType) JsonApiDotNetCore.Serialization.Request.Adapters.ResourceIdentityAdapter.ConvertResourceIdentity(ResourceIdentity identity, ResourceIdentityRequirements requirements, RequestAdapterState state) in /_/src/JsonApiDotNetCore/Serialization/Request/Adapters/ResourceIdentityAdapter.cs:line 36
   at (IIdentifiable resource, ResourceType resourceType) JsonApiDotNetCore.Serialization.Request.Adapters.ResourceObjectAdapter.Convert(ResourceObject resourceObject, ResourceIdentityRequirements requirements, RequestAdapterState state) in /_/src/JsonApiDotNetCore/Serialization/Request/Adapters/ResourceObjectAdapter.cs:line 35
   at (IIdentifiable resource, ResourceType resourceType) JsonApiDotNetCore.Serialization.Request.Adapters.ResourceDataAdapter.ConvertResourceObject(SingleOrManyData<ResourceObject> data, ResourceIdentityRequirements requirements, RequestAdapterState state) in /_/src/JsonApiDotNetCore/Serialization/Request/Adapters/ResourceDataAdapter.cs:line 48
   at IIdentifiable JsonApiDotNetCore.Serialization.Request.Adapters.ResourceDataAdapter.Convert(SingleOrManyData<ResourceObject> data, ResourceIdentityRequirements requirements, RequestAdapterState state) in /_/src/JsonApiDotNetCore/Serialization/Request/Adapters/ResourceDataAdapter.cs:line 33
   at object JsonApiDotNetCore.Serialization.Request.Adapters.DocumentInResourceOrRelationshipRequestAdapter.Convert(Document document, RequestAdapterState state) in /_/src/JsonApiDotNetCore/Serialization/Request/Adapters/DocumentInResourceOrRelationshipRequestAdapter.cs:line 41
   at object JsonApiDotNetCore.Serialization.Request.Adapters.DocumentAdapter.Convert(Document document) in /_/src/JsonApiDotNetCore/Serialization/Request/Adapters/DocumentAdapter.cs:line 37
   at object JsonApiDotNetCore.Serialization.Request.JsonApiReader.ConvertDocumentToModel(Document document, string requestBody) in /_/src/JsonApiDotNetCore/Serialization/Request/JsonApiReader.cs:line 119
   --- End of inner exception stack trace ---
   at object JsonApiDotNetCore.Serialization.Request.JsonApiReader.ConvertDocumentToModel(Document document, string requestBody) in /_/src/JsonApiDotNetCore/Serialization/Request/JsonApiReader.cs:line 123
   at object JsonApiDotNetCore.Serialization.Request.JsonApiReader.GetModel(string requestBody) in /_/src/JsonApiDotNetCore/Serialization/Request/JsonApiReader.cs:line 68
   at async Task<object> JsonApiDotNetCore.Serialization.Request.JsonApiReader.ReadAsync(HttpRequest httpRequest) in /_/src/JsonApiDotNetCore/Serialization/Request/JsonApiReader.cs:line 50
   at async Task<InputFormatterResult> JsonApiDotNetCore.Middleware.JsonApiInputFormatter.ReadAsync(InputFormatterContext context) in /_/src/JsonApiDotNetCore/Middleware/JsonApiInputFormatter.cs:line 25
   at async Task Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder.BindModelAsync(ModelBindingContext bindingContext)
   at async ValueTask<ModelBindingResult> Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, object value, object container)
   at async ControllerBinderDelegate Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.CreateBinderDelegate(ParameterBinder parameterBinder, IModelBinderFactory modelBinderFactory, IModelMetadataProvider modelMetadataProvider, ControllerActionDescriptor actionDescriptor, MvcOptions mvcOptions)+Bind(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 13:20:52.461 +02:00 [INF] HTTP PATCH /api/v1/tenants/10007/users/10021 responded 409 in 343.2242 ms
2025-12-30 13:21:14.111 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 13:21:14.183 +02:00 [ERR] Update user failed. UserId=10021
System.InvalidOperationException: Invalid Israeli Phone.
   at SilvernetJSONAPI.Validators.Validations.ValidateIsraeliPhone(String phone) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Validators\Validations.cs:line 14
   at SilvernetJSONAPI.Services.UserResourceService.UpdateAsync(Int64 id, UserResource resource, CancellationToken cancellationToken) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Services\UserResourceService.cs:line 111
2025-12-30 13:21:14.404 +02:00 [ERR] Invalid Israeli Phone.
System.InvalidOperationException: Invalid Israeli Phone.
   at void SilvernetJSONAPI.Validators.Validations.ValidateIsraeliPhone(string phone) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Validators/Validations.cs:line 14
   at async Task<UserResource> SilvernetJSONAPI.Services.UserResourceService.UpdateAsync(long id, UserResource resource, CancellationToken cancellationToken) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Services/UserResourceService.cs:line 111
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PatchAsync(TId id, TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 301
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PatchAsync(TId id, TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 99
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 13:21:14.412 +02:00 [ERR] HTTP PATCH /api/v1/tenants/10007/users/10021 responded 500 in 313.2320 ms
2025-12-30 13:21:27.737 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 13:21:27.743 +02:00 [INF] Updating user. UserId=10021, TenantId=10007, Email=null, IdNumber=null, Phone=05******21
2025-12-30 13:21:27.988 +02:00 [INF] User updated successfully. UserId=10021
2025-12-30 13:21:27.995 +02:00 [INF] HTTP PATCH /api/v1/tenants/10007/users/10021 responded 200 in 258.3014 ms
2025-12-30 13:22:06.069 +02:00 [WRN] ### WRITE CONTEXT CONSTRUCTED ###
2025-12-30 13:22:06.074 +02:00 [INF] Deleting user. UserId=10021, TenantId=10007
2025-12-30 13:22:06.097 +02:00 [INF] User deleted successfully. UserId=10021
2025-12-30 13:22:06.100 +02:00 [INF] HTTP DELETE /api/v1/tenants/10007/users/10021 responded 204 in 39.7306 ms
2025-12-30 13:35:33.980 +02:00 [INF] HTTP POST /api/auth/login responded 200 in 108.0950 ms
2025-12-30 13:35:48.759 +02:00 [INF] HTTP GET /api/v1/tenants responded 200 in 887.7557 ms
2025-12-30 13:36:23.893 +02:00 [INF] Creating tenant. Name=tester, Email=contact@silverfort.co.il, Phone=05******34
2025-12-30 13:36:24.048 +02:00 [INF] Tenant created successfully. TenantId=10009
2025-12-30 13:36:24.056 +02:00 [INF] HTTP POST /api/v1/tenants responded 201 in 252.1409 ms
2025-12-30 13:36:42.777 +02:00 [INF] Creating tenant. Name=tester, Email=contact@silverfort.co.il, Phone=05******34
2025-12-30 13:36:43.278 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'SilvernetJSONAPI.Data.WriteDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Tenants' with unique index 'IX_Tenants_Email'. The duplicate key value is (contact@silverfort.co.il).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:84f37ab6-8dce-4429-aa6a-993630ba69fa
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Tenants' with unique index 'IX_Tenants_Email'. The duplicate key value is (contact@silverfort.co.il).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:84f37ab6-8dce-4429-aa6a-993630ba69fa
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-30 13:36:43.410 +02:00 [ERR] Create tenant failed. Email=contact@silverfort.co.il
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Tenants' with unique index 'IX_Tenants_Email'. The duplicate key value is (contact@silverfort.co.il).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:84f37ab6-8dce-4429-aa6a-993630ba69fa
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at SilvernetJSONAPI.Services.TenantResourceService.CreateAsync(TenantResource resource, CancellationToken cancellationToken) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Services\TenantResourceService.cs:line 57
2025-12-30 13:36:43.941 +02:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Tenants' with unique index 'IX_Tenants_Email'. The duplicate key value is (contact@silverfort.co.il).
   at void Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, bool breakConnection, Action<Action> wrapCloseInAction)
   at void Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, bool breakConnection, Action<Action> wrapCloseInAction)
   at void Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, bool callerHasConnectionLock, bool asyncClose)
   at bool Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, out bool dataReady)
   at bool Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(out bool moreRows)
   at bool Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(bool setTimeout, out bool more)
   at Task<bool> Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, object state)
   at Task<T> Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall<T>(SqlDataReaderBaseAsyncCallContext<T> context)
   at async Task<int> Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(int startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:84f37ab6-8dce-4429-aa6a-993630ba69fa
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at async Task<int> Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(int startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at async Task Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken) x 2
   at async Task Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable<ModificationCommandBatch> commandBatches, IRelationalConnection connection, CancellationToken cancellationToken) x 3
   at async Task<int> Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList<IUpdateEntry> entriesToSave, CancellationToken cancellationToken) x 2
   at async Task<TResult> Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync<TState, TResult>(TState state, Func<DbContext, TState, CancellationToken, Task<TResult>> operation, Func<DbContext, TState, CancellationToken, Task<ExecutionResult<TResult>>> verifySucceeded, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(bool acceptAllChangesOnSuccess, CancellationToken cancellationToken) x 2
   at async Task<TenantResource> SilvernetJSONAPI.Services.TenantResourceService.CreateAsync(TenantResource resource, CancellationToken cancellationToken) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Services/TenantResourceService.cs:line 57
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 212
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 83
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 13:36:43.965 +02:00 [ERR] HTTP POST /api/v1/tenants responded 500 in 1203.5527 ms
2025-12-30 13:37:43.343 +02:00 [INF] HTTP GET /api/v1/tenants/10009 responded 200 in 54.9593 ms
2025-12-30 13:37:48.585 +02:00 [INF] HTTP GET /api/v1/tenants/10006 responded 200 in 17.3240 ms
2025-12-30 13:37:52.431 +02:00 [INF] JsonApiException: Errors = [
  {
    "id": "46a21ee6-78a7-4ba8-bc75-08afe9d7f403",
    "status": "404",
    "title": "The requested resource does not exist.",
    "detail": "Resource of type 'tenants' with ID '10010' does not exist."
  }
]
JsonApiDotNetCore.Errors.ResourceNotFoundException: Exception of type 'JsonApiDotNetCore.Errors.ResourceNotFoundException' was thrown.
   at void JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.AssertPrimaryResourceExists(TResource resource) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 657
   at async Task<TResource> JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.GetPrimaryResourceByIdAsync(TId id, TopFieldSelection fieldSelection, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 595
   at async Task<TResource> JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.GetAsync(TId id, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 97
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.GetAsync(TId id, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 124
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.GetAsync(TId id, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 58
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 13:37:52.436 +02:00 [INF] HTTP GET /api/v1/tenants/10010 responded 404 in 294.1499 ms
2025-12-30 13:38:28.342 +02:00 [ERR] Update tenant failed. TenantId=10009
System.InvalidOperationException: Invalid Israeli Phone.
   at SilvernetJSONAPI.Validators.Validations.ValidateIsraeliPhone(String phone) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Validators\Validations.cs:line 15
   at SilvernetJSONAPI.Services.TenantResourceService.UpdateAsync(Int64 id, TenantResource resource, CancellationToken cancellationToken) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Services\TenantResourceService.cs:line 82
2025-12-30 13:38:28.563 +02:00 [ERR] Invalid Israeli Phone.
System.InvalidOperationException: Invalid Israeli Phone.
   at void SilvernetJSONAPI.Validators.Validations.ValidateIsraeliPhone(string phone) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Validators/Validations.cs:line 15
   at async Task<TenantResource> SilvernetJSONAPI.Services.TenantResourceService.UpdateAsync(long id, TenantResource resource, CancellationToken cancellationToken) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Services/TenantResourceService.cs:line 82
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PatchAsync(TId id, TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 301
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PatchAsync(TId id, TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 99
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 13:38:28.567 +02:00 [ERR] HTTP PATCH /api/v1/tenants/10009 responded 500 in 336.0677 ms
2025-12-30 13:38:32.184 +02:00 [INF] Updating tenant. TenantId=10009, Email=null, Phone=05******11
2025-12-30 13:38:32.251 +02:00 [INF] Tenant updated successfully. TenantId=10009
2025-12-30 13:38:32.256 +02:00 [INF] HTTP PATCH /api/v1/tenants/10009 responded 200 in 73.6493 ms
2025-12-30 13:38:56.857 +02:00 [INF] Deleting tenant. TenantId=10009
2025-12-30 13:38:56.921 +02:00 [INF] Tenant deleted successfully. TenantId=10009
2025-12-30 13:38:56.924 +02:00 [INF] HTTP DELETE /api/v1/tenants/10009 responded 204 in 82.5401 ms
2025-12-30 13:38:58.280 +02:00 [INF] Deleting tenant. TenantId=10009
2025-12-30 13:38:58.287 +02:00 [WRN] Tenant not found. TenantId=10009
2025-12-30 13:38:58.290 +02:00 [INF] HTTP DELETE /api/v1/tenants/10009 responded 204 in 9.7405 ms
2025-12-30 13:39:00.597 +02:00 [INF] Deleting tenant. TenantId=10009
2025-12-30 13:39:00.606 +02:00 [WRN] Tenant not found. TenantId=10009
2025-12-30 13:39:00.610 +02:00 [INF] HTTP DELETE /api/v1/tenants/10009 responded 204 in 14.3947 ms
2025-12-30 13:39:09.418 +02:00 [INF] Deleting tenant. TenantId=10010
2025-12-30 13:39:09.424 +02:00 [WRN] Tenant not found. TenantId=10010
2025-12-30 13:39:09.427 +02:00 [INF] HTTP DELETE /api/v1/tenants/10010 responded 204 in 9.1058 ms
2025-12-30 13:40:58.100 +02:00 [INF] HTTP GET /api/v1/tenants/10002/users responded 304 in 49.5751 ms
2025-12-30 13:41:03.914 +02:00 [INF] HTTP GET /api/v1/tenants/10004/users responded 200 in 10.2527 ms
2025-12-30 13:41:08.872 +02:00 [INF] HTTP GET /api/v1/tenants/10005/users responded 200 in 11.9664 ms
2025-12-30 13:41:48.554 +02:00 [INF] Deleting user. UserId=10015, TenantId=10004
2025-12-30 13:41:48.588 +02:00 [INF] User deleted successfully. UserId=10015
2025-12-30 13:41:48.591 +02:00 [INF] HTTP DELETE /api/v1/tenants/10004/users/10015 responded 204 in 47.7797 ms
2025-12-30 13:41:49.942 +02:00 [INF] Deleting user. UserId=10015, TenantId=10004
2025-12-30 13:41:49.947 +02:00 [WRN] User not found. UserId=10015
2025-12-30 13:41:49.949 +02:00 [INF] HTTP DELETE /api/v1/tenants/10004/users/10015 responded 204 in 8.6800 ms
2025-12-30 13:42:38.586 +02:00 [INF] JsonApiException: Errors = [
  {
    "id": "4d72975e-e7b9-4f59-83de-78dd78781a15",
    "status": "422",
    "title": "Input validation failed.",
    "detail": "The Email field is not a valid e-mail address.",
    "source": {
      "pointer": "/data/attributes/email"
    }
  }
]
JsonApiDotNetCore.Errors.InvalidModelStateException: Exception of type 'JsonApiDotNetCore.Errors.InvalidModelStateException' was thrown.
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 209
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 83
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 13:42:38.590 +02:00 [INF] HTTP POST /api/v1/tenants/1/users responded 422 in 194.8168 ms
2025-12-30 13:42:47.806 +02:00 [INF] Creating user. TenantId=1, Email=testing@example.com, IdNumber=******018, Phone=05******88
2025-12-30 13:42:48.168 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'SilvernetJSONAPI.Data.WriteDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Users_Tenants_TenantId". The conflict occurred in database "SilvernetJSONAPI_Db", table "dbo.Tenants", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:84f37ab6-8dce-4429-aa6a-993630ba69fa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Users_Tenants_TenantId". The conflict occurred in database "SilvernetJSONAPI_Db", table "dbo.Tenants", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:84f37ab6-8dce-4429-aa6a-993630ba69fa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-30 13:42:48.241 +02:00 [ERR] Create user failed. TenantId=1, Email=testing@example.com
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Users_Tenants_TenantId". The conflict occurred in database "SilvernetJSONAPI_Db", table "dbo.Tenants", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:84f37ab6-8dce-4429-aa6a-993630ba69fa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Services\UserResourceService.cs:line 79
2025-12-30 13:42:48.485 +02:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Users_Tenants_TenantId". The conflict occurred in database "SilvernetJSONAPI_Db", table "dbo.Tenants", column 'Id'.
   at void Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, bool breakConnection, Action<Action> wrapCloseInAction)
   at void Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, bool breakConnection, Action<Action> wrapCloseInAction)
   at void Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, bool callerHasConnectionLock, bool asyncClose)
   at bool Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, out bool dataReady)
   at bool Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(out bool moreRows)
   at bool Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(bool setTimeout, out bool more)
   at Task<bool> Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, object state)
   at Task<T> Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall<T>(SqlDataReaderBaseAsyncCallContext<T> context)
   at async Task<int> Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(int startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:84f37ab6-8dce-4429-aa6a-993630ba69fa
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at async Task<int> Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(int startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at async Task Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at async Task Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken) x 2
   at async Task Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable<ModificationCommandBatch> commandBatches, IRelationalConnection connection, CancellationToken cancellationToken) x 3
   at async Task<int> Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList<IUpdateEntry> entriesToSave, CancellationToken cancellationToken) x 2
   at async Task<TResult> Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync<TState, TResult>(TState state, Func<DbContext, TState, CancellationToken, Task<TResult>> operation, Func<DbContext, TState, CancellationToken, Task<ExecutionResult<TResult>>> verifySucceeded, CancellationToken cancellationToken)
   at async Task<int> Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(bool acceptAllChangesOnSuccess, CancellationToken cancellationToken) x 2
   at async Task<UserResource> SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Services/UserResourceService.cs:line 79
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 212
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 83
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 13:42:48.495 +02:00 [ERR] HTTP POST /api/v1/tenants/1/users responded 500 in 697.1984 ms
2025-12-30 13:42:59.718 +02:00 [ERR] Create user failed. TenantId=1, Email=testing@example.com
System.InvalidOperationException: Invalid Israeli Phone.
   at SilvernetJSONAPI.Validators.Validations.ValidateIsraeliPhone(String phone) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Validators\Validations.cs:line 15
   at SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Services\UserResourceService.cs:line 71
2025-12-30 13:42:59.920 +02:00 [ERR] Invalid Israeli Phone.
System.InvalidOperationException: Invalid Israeli Phone.
   at void SilvernetJSONAPI.Validators.Validations.ValidateIsraeliPhone(string phone) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Validators/Validations.cs:line 15
   at async Task<UserResource> SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Services/UserResourceService.cs:line 71
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 212
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 83
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 13:42:59.926 +02:00 [ERR] HTTP POST /api/v1/tenants/1/users responded 500 in 238.9708 ms
2025-12-30 13:43:09.308 +02:00 [ERR] Create user failed. TenantId=1, Email=testing@example.com
System.InvalidOperationException: Invalid Israeli IdNumber.
   at SilvernetJSONAPI.Validators.Validations.ValidateIsraeliId(String id) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Validators\Validations.cs:line 9
   at SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Services\UserResourceService.cs:line 70
2025-12-30 13:43:09.493 +02:00 [ERR] Invalid Israeli IdNumber.
System.InvalidOperationException: Invalid Israeli IdNumber.
   at void SilvernetJSONAPI.Validators.Validations.ValidateIsraeliId(string id) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Validators/Validations.cs:line 9
   at async Task<UserResource> SilvernetJSONAPI.Services.UserResourceService.CreateAsync(UserResource resource, CancellationToken cancellationToken) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Services/UserResourceService.cs:line 70
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 212
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PostAsync(TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 83
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 13:43:09.496 +02:00 [ERR] HTTP POST /api/v1/tenants/1/users responded 500 in 242.4142 ms
2025-12-30 13:43:18.221 +02:00 [INF] Creating user. TenantId=10004, Email=testing@example.com, IdNumber=******018, Phone=05******88
2025-12-30 13:43:18.233 +02:00 [INF] User created successfully. UserId=10023, TenantId=10004
2025-12-30 13:43:18.237 +02:00 [INF] HTTP POST /api/v1/tenants/10004/users responded 201 in 16.4501 ms
2025-12-30 13:43:40.747 +02:00 [INF] HTTP GET /api/v1/tenants/10004/users/10023 responded 200 in 20.1547 ms
2025-12-30 13:43:46.373 +02:00 [INF] JsonApiException: Errors = [
  {
    "id": "3d7b6d84-ff4b-4435-94f8-bd1a0c6775bd",
    "status": "404",
    "title": "The requested resource does not exist.",
    "detail": "Resource of type 'users' with ID '10023' does not exist."
  }
]
JsonApiDotNetCore.Errors.ResourceNotFoundException: Exception of type 'JsonApiDotNetCore.Errors.ResourceNotFoundException' was thrown.
   at void JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.AssertPrimaryResourceExists(TResource resource) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 657
   at async Task<TResource> JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.GetPrimaryResourceByIdAsync(TId id, TopFieldSelection fieldSelection, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 595
   at async Task<TResource> JsonApiDotNetCore.Services.JsonApiResourceService<TResource, TId>.GetAsync(TId id, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Services/JsonApiResourceService.cs:line 97
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.GetAsync(TId id, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 124
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.GetAsync(TId id, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 58
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 13:43:46.382 +02:00 [INF] HTTP GET /api/v1/tenants/10005/users/10023 responded 404 in 316.6794 ms
2025-12-30 13:44:47.256 +02:00 [INF] JsonApiException: Errors = [
  {
    "id": "c8854523-950e-410b-8c93-df9d3c19f7a5",
    "status": "409",
    "title": "Failed to deserialize request body: Conflicting 'id' values found.",
    "detail": "Expected '10023' instead of '5'.",
    "source": {
      "pointer": "/data/id"
    }
  }
]
JsonApiDotNetCore.Errors.InvalidRequestBodyException: Exception of type 'JsonApiDotNetCore.Errors.InvalidRequestBodyException' was thrown.
 ---> JsonApiDotNetCore.Serialization.Request.ModelConversionException: Conflicting 'id' values found.
   at void JsonApiDotNetCore.Serialization.Request.Adapters.ResourceIdentityAdapter.AssertSameIdValue(ResourceIdentity identity, string expected, RequestAdapterState state) in /_/src/JsonApiDotNetCore/Serialization/Request/Adapters/ResourceIdentityAdapter.cs:line 206
   at IIdentifiable JsonApiDotNetCore.Serialization.Request.Adapters.ResourceIdentityAdapter.CreateResource(ResourceIdentity identity, ResourceIdentityRequirements requirements, ResourceType resourceType, RequestAdapterState state) in /_/src/JsonApiDotNetCore/Serialization/Request/Adapters/ResourceIdentityAdapter.cs:line 120
   at (IIdentifiable resource, ResourceType resourceType) JsonApiDotNetCore.Serialization.Request.Adapters.ResourceIdentityAdapter.ConvertResourceIdentity(ResourceIdentity identity, ResourceIdentityRequirements requirements, RequestAdapterState state) in /_/src/JsonApiDotNetCore/Serialization/Request/Adapters/ResourceIdentityAdapter.cs:line 36
   at (IIdentifiable resource, ResourceType resourceType) JsonApiDotNetCore.Serialization.Request.Adapters.ResourceObjectAdapter.Convert(ResourceObject resourceObject, ResourceIdentityRequirements requirements, RequestAdapterState state) in /_/src/JsonApiDotNetCore/Serialization/Request/Adapters/ResourceObjectAdapter.cs:line 35
   at (IIdentifiable resource, ResourceType resourceType) JsonApiDotNetCore.Serialization.Request.Adapters.ResourceDataAdapter.ConvertResourceObject(SingleOrManyData<ResourceObject> data, ResourceIdentityRequirements requirements, RequestAdapterState state) in /_/src/JsonApiDotNetCore/Serialization/Request/Adapters/ResourceDataAdapter.cs:line 48
   at IIdentifiable JsonApiDotNetCore.Serialization.Request.Adapters.ResourceDataAdapter.Convert(SingleOrManyData<ResourceObject> data, ResourceIdentityRequirements requirements, RequestAdapterState state) in /_/src/JsonApiDotNetCore/Serialization/Request/Adapters/ResourceDataAdapter.cs:line 33
   at object JsonApiDotNetCore.Serialization.Request.Adapters.DocumentInResourceOrRelationshipRequestAdapter.Convert(Document document, RequestAdapterState state) in /_/src/JsonApiDotNetCore/Serialization/Request/Adapters/DocumentInResourceOrRelationshipRequestAdapter.cs:line 41
   at object JsonApiDotNetCore.Serialization.Request.Adapters.DocumentAdapter.Convert(Document document) in /_/src/JsonApiDotNetCore/Serialization/Request/Adapters/DocumentAdapter.cs:line 37
   at object JsonApiDotNetCore.Serialization.Request.JsonApiReader.ConvertDocumentToModel(Document document, string requestBody) in /_/src/JsonApiDotNetCore/Serialization/Request/JsonApiReader.cs:line 119
   --- End of inner exception stack trace ---
   at object JsonApiDotNetCore.Serialization.Request.JsonApiReader.ConvertDocumentToModel(Document document, string requestBody) in /_/src/JsonApiDotNetCore/Serialization/Request/JsonApiReader.cs:line 123
   at object JsonApiDotNetCore.Serialization.Request.JsonApiReader.GetModel(string requestBody) in /_/src/JsonApiDotNetCore/Serialization/Request/JsonApiReader.cs:line 68
   at async Task<object> JsonApiDotNetCore.Serialization.Request.JsonApiReader.ReadAsync(HttpRequest httpRequest) in /_/src/JsonApiDotNetCore/Serialization/Request/JsonApiReader.cs:line 50
   at async Task<InputFormatterResult> JsonApiDotNetCore.Middleware.JsonApiInputFormatter.ReadAsync(InputFormatterContext context) in /_/src/JsonApiDotNetCore/Middleware/JsonApiInputFormatter.cs:line 25
   at async Task Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinder.BindModelAsync(ModelBindingContext bindingContext)
   at async ValueTask<ModelBindingResult> Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, object value, object container)
   at async ControllerBinderDelegate Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.CreateBinderDelegate(ParameterBinder parameterBinder, IModelBinderFactory modelBinderFactory, IModelMetadataProvider modelMetadataProvider, ControllerActionDescriptor actionDescriptor, MvcOptions mvcOptions)+Bind(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 13:44:47.261 +02:00 [INF] HTTP PATCH /api/v1/tenants/10004/users/10023 responded 409 in 194.5484 ms
2025-12-30 13:44:58.196 +02:00 [INF] Updating user. UserId=10023, TenantId=10004, Email=null, IdNumber=null, Phone=05******88
2025-12-30 13:44:58.214 +02:00 [INF] User updated successfully. UserId=10023
2025-12-30 13:44:58.216 +02:00 [INF] HTTP PATCH /api/v1/tenants/10004/users/10023 responded 200 in 22.4375 ms
2025-12-30 13:45:12.977 +02:00 [INF] Updating user. UserId=10023, TenantId=10004, Email=null, IdNumber=null, Phone=05******87
2025-12-30 13:45:12.994 +02:00 [INF] User updated successfully. UserId=10023
2025-12-30 13:45:12.996 +02:00 [INF] HTTP PATCH /api/v1/tenants/10004/users/10023 responded 200 in 19.4176 ms
2025-12-30 13:45:18.561 +02:00 [ERR] Update user failed. UserId=10023
System.InvalidOperationException: Invalid Israeli Phone.
   at SilvernetJSONAPI.Validators.Validations.ValidateIsraeliPhone(String phone) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Validators\Validations.cs:line 15
   at SilvernetJSONAPI.Services.UserResourceService.UpdateAsync(Int64 id, UserResource resource, CancellationToken cancellationToken) in C:\Users\User\Documents\GitHub\SilvernetAssignment\.vs\SilvernetJSONAPI\SilvernetJSONAPI\Services\UserResourceService.cs:line 110
2025-12-30 13:45:18.729 +02:00 [ERR] Invalid Israeli Phone.
System.InvalidOperationException: Invalid Israeli Phone.
   at void SilvernetJSONAPI.Validators.Validations.ValidateIsraeliPhone(string phone) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Validators/Validations.cs:line 15
   at async Task<UserResource> SilvernetJSONAPI.Services.UserResourceService.UpdateAsync(long id, UserResource resource, CancellationToken cancellationToken) in C:/Users/User/Documents/GitHub/SilvernetAssignment/.vs/SilvernetJSONAPI/SilvernetJSONAPI/Services/UserResourceService.cs:line 110
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PatchAsync(TId id, TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 301
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PatchAsync(TId id, TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 99
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 13:45:18.732 +02:00 [ERR] HTTP PATCH /api/v1/tenants/10004/users/10023 responded 500 in 215.0916 ms
2025-12-30 13:45:39.423 +02:00 [INF] Updating user. UserId=10023, TenantId=10004, Email=someone@test.com, IdNumber=null, Phone=05******87
2025-12-30 13:45:39.435 +02:00 [INF] User updated successfully. UserId=10023
2025-12-30 13:45:39.437 +02:00 [INF] HTTP PATCH /api/v1/tenants/10004/users/10023 responded 200 in 20.8041 ms
2025-12-30 13:45:46.010 +02:00 [INF] JsonApiException: Errors = [
  {
    "id": "1d8adaa8-b55d-4996-978a-6bb3b244004b",
    "status": "422",
    "title": "Input validation failed.",
    "detail": "The Email field is not a valid e-mail address.",
    "source": {
      "pointer": "/data/attributes/email"
    }
  }
]
JsonApiDotNetCore.Errors.InvalidModelStateException: Exception of type 'JsonApiDotNetCore.Errors.InvalidModelStateException' was thrown.
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.BaseJsonApiController<TResource, TId>.PatchAsync(TId id, TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/BaseJsonApiController.cs:line 298
   at async Task<IActionResult> JsonApiDotNetCore.Controllers.JsonApiController<TResource, TId>.PatchAsync(TId id, TResource resource, CancellationToken cancellationToken) in /_/src/JsonApiDotNetCore/Controllers/JsonApiController.cs:line 99
   at async ValueTask<IActionResult> Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor+TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, object controller, object[] arguments)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()+Awaited(?)
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()+Awaited(?)
   at void Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(ref State next, ref Scope scope, ref object state, ref bool isCompleted)
   at Task Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
   at async Task Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextExceptionFilterAsync()+Awaited(?)
2025-12-30 13:45:46.014 +02:00 [INF] HTTP PATCH /api/v1/tenants/10004/users/10023 responded 422 in 181.5533 ms
2025-12-30 13:45:54.937 +02:00 [INF] Updating user. UserId=10023, TenantId=10004, Email=someone@test.com, IdNumber=null, Phone=05******86
2025-12-30 13:45:54.956 +02:00 [INF] User updated successfully. UserId=10023
2025-12-30 13:45:54.959 +02:00 [INF] HTTP PATCH /api/v1/tenants/10004/users/10023 responded 200 in 22.3506 ms
2025-12-30 13:46:10.933 +02:00 [INF] Deleting user. UserId=10023, TenantId=10004
2025-12-30 13:46:10.949 +02:00 [INF] User deleted successfully. UserId=10023
2025-12-30 13:46:10.953 +02:00 [INF] HTTP DELETE /api/v1/tenants/10004/users/10023 responded 204 in 19.9653 ms
2025-12-30 13:46:15.861 +02:00 [INF] Deleting user. UserId=10023, TenantId=10004
2025-12-30 13:46:15.871 +02:00 [WRN] User not found. UserId=10023
2025-12-30 13:46:15.882 +02:00 [INF] HTTP DELETE /api/v1/tenants/10004/users/10023 responded 204 in 20.6018 ms
